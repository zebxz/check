3:00 AWS9 video... UDEMY FOR EC2 , WE WERE able to cover, SO  TRY TO GO TRU .... NO NID TO write exams, no comy uses all the aws services
vpc peeering cannot work if the vpcs ar overlapping , we v nt hv such occurance in our company

storage  [ebs, s3, efs]
ASG  
ELB  
VPCs. 
IAM  

vpc, vpc peering, route table, routing traffic, B ,auto scaling, launch template

MY TS EXPERIENCE: I tried installing tomcat with user script ie pasting
installation script while launching an inatance but it wasnt working, and the target grp keptindicating unhealthy bc d https link to install tomcat wasnt the
latest version, so i had to google tomcat download and tcopy the correct https link  
 https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.83/bin/apache-tomcat-9.0.83.zip

its good to hv multiple lB so if one is down, the one that is running wil b  able to sustain the resources that are down  
###### i installed my docker server in private SN and it wasnt accesible on google bt when i installed anoda one in publicSN, it worked 

######prof power point script not complete 1>47>39 ... tomcat script and also create jumpserver and docker server
Video8a, 1:46:20 .. the video is amnong the docker videos... . .....   ask what makes a port unhealthy? .... 1:46:45. he said what does d health of d server depend on,it
depends on the fact that the port 8080 is open,its running ders smt ruuing on the port ,, we can use the curl command to check 

the course to knw hw to manage the resources hosted by AWS ,, understanding the process of maanaging the computing services in the AWS environment
aWS cloud architecture/ aws solution architect

QUESTION:
video 6 ... OUR sand box didnt hv a public ip.... so u said 
1. By default, from the jumpserver we can ssh 
   into the sandbox using the publicIP  
so does it mean, we then v to create our sand box server to hv a public ip address.. & if so that means the connection is not private 

a target group can hv up to 1000 targets

vpc is used to create isolated ntwrk

VIDEO 7 .8:33 WE CAN PEER RESOURCES in 2 diff ntwrk providers like gcp & aws .. e.g aws can be our and gcp can be an on premp resource
bc they ar nt in d same cloud provider platform ..... using diff options like vpm , aws direct and etc 

DIAGRAM:.....15:44
WHEN U CREATE A VPC, it comes wit its own nTWKR and did is a private ntrk & as a private ntwrk, hw wil the resource communicate with each other e.g dbser commu wit appserve
11:28 if the app server& dbserver ar in d same ntwrk,ie a local ntwrk e.g vpc1, they can comm wit their pivate ip but if in dif ntwrks e.g one server is in vpc1 & the 
17:28 oda server is in vpc2 then they can comm wit vpc peering by doing so, we create a private ntwrk btw the two vpcs.. we wnt to pair the 2 vpcs

HOW TO ESTABLISH VPC PEERING
this can be achieved in the same region and across regions 
23:25 

CHECK tELEGRAM FOR steps in the handout ... aws vpc27 pdf
Step 1)Create 2 VPCs - VPC-A and VPC-B with non-overlapping CIDR range
e.g of overlapping, is when the 2diff vpcs both v severs with the same ip address as illustated below.. its nt gud when they overlap bc when i ping the ip adress, the 
broadcast wont know if its searching for appserver1 or appserver2 
VPC-1 - 10.0.0.0/16......... cIDR blocks 
   appServer1 [ 10.0.0.66 ]...... ip address
VPC-2 - 10.0.0.0/24  ...... CIDR block 
   webServer1 [ 10.0.0.66 ]..... ip address

##### e.g2, without overlapping
vpc peering connection
======================
VPC-1 - 10.0.0.0/24
   appServer1 [ 10.0.0.66 ]
VPC-2 - 10.10.0.0/24  
   webServer1 [ 10.10.0.66 ]

ping 10.0.0.66  
ping 10.10.0.66  

vpc peering connection.... without overlapping
======================
VPC-1 - cidr block= 10.0.0.0/24

   appServer1 [ 10.0.0.66 ]

VPC-2 - cidr block=  10.10.0.0/24  
   webServer1 [ 172.0.0.66 ]

             

i created the 2nd vpc to pair with in oregon , the first vpc was already created in virginia 
29:45frm step one above create vpc.. .. vpc^more-name-10.10.0.0/24- AZs:1 - publicSN: 1- privateSN:1- gateway: in 1 AZ- create

1. vpc1 request for a peering connection (private nterk) with VPC2   
2. vpc2 ACCEPT the peering connection from VPC1  

WE V TO MODIFY THE ROUTE TABLE SUCH THAT DER CAN B A PRIVate ntwrk established.. 

in virginia, select peering conection- name- selectvpc to pair wit:project pair-..thers anoda option to pair vpc with- rgion:another-go into d other region, copy d vpc id 
paste it-create- go into the other region in action:accept the connection, meaning we can peer vpcs in d same aws acct or in an anodaaws acct,.in this case we wnt to 
do it in the same accoutn bt our 2nd vpc is in another region... the pairng vpc cud be in the same region or anoda region 

41:15,, modify the route tables of VPC1 -selsct route tables-tick publicSN of the created vpc:-edit: add 10.10.0.0/24- peer connection-save ... do the same in the privateSN 
 of the same vpc....TO est conection wit VPC2 via the pairing connection
46:50 we also go to the other region, the receiving vpc and modify the route table for vPC2- add 10.0.0.0/24 for both the publicSN and privateSN .... so we hv created route
for secure access by modifying the route tables so that we can v a private secure connection.. by default, the route table will permit local route frm 10.10.0.0/24 local
& 0.0.0.0igw to permit access tru the igw,, we also v 10.0.0.0/24pc.. this is establshing a private connection uisng the vpc peering connection,by virtue of this modification
we attaching these to our publicSN 0.0.0 igw &privateSN 0.0.0.NAT.the access To the internet is oneway via the NAT  & we v a pairing connection, this is what we v been able 
to establish.

####51:15 ... SANDBOX .. 
A sandbox is a test server , the server can be used for testing...
the envirn wher we perfom testing is called sandbox server, we first deploy in the sandbox if it wrks well then we deploy in the right environ
.yes since we hv done the peer connection, we can connect to the sandbox from the jumpserver privately, we can est a private connecion.


Ticket0013
 ===========
Deploy applications to production for paypal client.   
e.g, i hv 
  1. 8 production appServers with [ 192G RAM / 900GB SSD ] each

For best performance ensure that adequate testing is done  
  2. first, deploy in your sandbox/test server  

###55:20 to create a sandbox
launch instance- linux-micro- pem key- select the created vpc-prvateSN- ip:disable-SG:ssh  custom 10.0.0.0/24, so dat resources in the vpc can comm wit me via ssh, i also
wnt wnt an ssh connection est in this sandbox so:ssh custom 10.10.0.0/24, so frm both vpc am able to ssh privately- launch
the sandbox doesnt hv any public ip, its running in the privateSN

ssh jumpserver in mobaxterm
1:1:18 to acces my sandbox in mobaxterm
ssh -i "sand.pem" ec2-user@10.10.0.139

in mobaXT ,in my jumpser,creating a new key,-vi sand.pem :paste- bc my key is open, chmod 400 sand.pem, to change d key permission, then my key is secured- 
ssh -i "sand.pem" ec2-user@10.10.0.139 ..

######i edited the wrong route table so my sandbox refused to connect, but once i resolved it , it connected

sandbox is running in vpc2:
  privateIP  =  10.10.0.134
  chmod 400 aws33.pem
  ssh -i "aws33.pem" ec2-user@10.10.0.134

jumpserver is running in vpc1:
  privateIP = 10.0.0.54  
  publicIP  = 18.191.89.63
  ssh -i awskey33.pem ec2-user@18.191.89.63
  ssh -i awskey33.pem ec2-user@10.0.0.54

1. By default, from the jumpserver we can ssh 
   into the sandbox using the publicIP    

1. from the jumpserver we can ssh into the sandbox using the privateIP 
   via vpc peering with route tables modified accordingly     


vIDEO  7/8: Elastic Load Balancers& AUTO SCALLING
====================================
Running notes for ELB/ASG  starts
====================================
tomcat script didnt install the tomcat, engr francis helped me resolve it 

some aspect of the class he didnt cover bc nt running in his aws account ,, consult the resource material 
running note FOR ELB and ASG ,,, auto scaling group ... ..


13:40 its nt a secured practice to allow direct traffi to app servers so we create a web server ..  webserver manages hw traffic is routed... it routes traffic to the backend application servers
the websever has waht is called target,,, ther a target grp .. e.g target grp for my FB apps ..
bt in a situation wher the webserver breaks down that will be a problem

EXAMPLE OF WEBSERVERS/LB SOFTWARE
nginx
httpd

16:00 After installing, we v to configure & the configuration has certain parametrs
webserver has listerners and backend 
it has listeners to traffic using http 80 protocol or https  443,  from the app users and routes traffic to the  backend  app via their ip address 10.0.0.7 and the server
port number e.g 8080 =10.0.0.7:8080but the webserver is a self managed solution & we can hv a situation where we hv backup webservers to cover up when webserver1 is down
but all the configuration constitute a very tidious job

so we can go with a managed service ie paaS... AWS has provided us a manged srvice 
WE JUST CREATE our elb ... then aws decides the kind of software to install .. whether ngnix, https, they are incharge of that,, 
in the background, aws will create 2webservers in 2aZs for availability, so u dnt bother whether the server wil fail or not
so ur tassk is jst to create/config ur listeners/target groups
thats whAT elb IS ALL ABOUT

23:37 ... 1)THERS ALSO NTWRK LOAD BALANCER
it deals with source and destination, &when it comes to d target grp dey ar created using TCp id or protocol & a trget grp can v up..
to 1000 targets and we will do all the config ..tcp= source &destination..video 8a (1:11.. d protocol here that it suport, the listener is tcp got to do wit source& destinatn 
this falls under layer4support..... ntwrk lb is faster than ALB BC NTwrk is source to destination bt for ALB when it receives a trafic it has to filters the tarfic to knw the
the right target to route the trafic to .... also it has multiple target grps wjile ntwrk has one target grp... ntwrk LB ia faster bc its routed on layer4 of the osi model &
its the transport layer dedicated for transport so by default for transmissn data layer4 is super fast
layer7 the application layer, route trafic base on content of the trafic.


24:25.... 2)  thers also application load balancer(AIB)
IT will use the http/https protocol,, in dis case , we can v multiple target groups/ diff target grps
the applications are grouped with the help of a target grp
the AIB falls under layer7 support.

3) thers also gateway LB , a new option which AWS now hv

interview: do u v any experience with layer4 support, nterk load balancers 
cos once we get into kubernetes, its going to be abt routing traffic to multiple backend application ... . 

38:00 APP SERVER - name -linux- micro-SELECT created vpc:pubSN-key-ENABLE AUTO- advance deatails:user data:paste d tomcat instalation script,to instal &start tomcat- launch
SG: SSH TCP 22  0.0.0/0, HTTP TCP 80 0.0.0/0, SSH TCP22 from any

create docker-app.. everytin is the same as aPP SERVER THEN PASTE the simple script for instaling docker .. they must be in the same VPC
SG: SSH TCP 22, HTTP TCP 80, ALL TCP , TCP from anywher 0.0.0/0

##### we can hv up to 1000 targets in a one target group ... 1:31:55

CREATE  LOAD BALANCERS 

49:30 CREATE LOAD BALANCER- name-internat facing(means it cn receive trafic frm ext sours &route d trafic-ipv4-the same vpc as docker&app-same vpc-pubSN- SG- add 
listenr 80-create target grp:instances-name- TCP:8080 .(we chose tcp/UDP bc its a ntwrk LB)-IPV4-HEALTH:tcp: we can also click adv:3,3,10,10...ie if the LB Ping the target 
server 3times &ders no response, it wont route traffic to the target-NEXT-select D required apps-portnmber it listens to e.g8080or 80 for deocker-tick include as pending-
create target grp-go back to the load bALancer being created &select thetarget grp-create load balancer... we can also add up to 50 listeners


1:02:20
TO ADD A TARGEt to an existing LBT:CEATE LOAD BALANCER- name-internat facing-ipv4-the same vpc as docker&app-same vpc-pubSN- SG- add listener-create target grp:instances-
name- TCP:80-IPV4-NEXT-select the required apps-portnmber it listens to e.g8080or 80 for deocker- tick include as pending-create target- THEN CLICK Target groups-register

so if we are trying to access our application, we will access it via the LB,

we can check online to see if our servers were installed 
publicIP:8080
56:50 we v to be able to access our app server & docker server directly or our LB wont be able to route traffic 

1:03 we can now copy the dns name of our lB to access our app or doecker server and it is more secured accessing our application via the LB 








13:30

Elastic Load Balancers = ELB:
  rules   
  Listeners 
  target groups with targets   
  health check on the targets  

  LB & elb 
Create your Load Balancers in an aws Region:
  aws will create 2 instances in 2 AZs  
  aws will install/configure a Load Balancing sotwares   


install tomcat:
===============
#!/bin/bash
# RedHat Server
# Tomcat installation
cd /opt 
sudo hostname tomcat3
sudo yum install java-1.8.0-openjdk-devel -y
sudo yum install git wget -y
sudo wget https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.83/bin/apache-tomcat-9.0.83.tar.gz
sudo tar -xvf apache-tomcat-9.0.83.tar.gz
sudo rm -rf apache-tomcat-9.0.83.tar.gz
sudo mv apache-tomcat-9.0.83 tomcat9
sudo chmod 777 -R /opt/tomcat9
sudo sh /opt/tomcat9/bin/startup.sh


Then after connecting in mobaxterm  if hostname didnt set i will run sudo hostname tomcat
video 8a, 1:44:32 then switch to ec2-user ie come out of the shell ... sudo su - ec2-user
QUESTION.. why do we hv to change our shell?????????????????????????????????????????????????????????????????????

============================
#!/bin/bash
sudo hostnamectl set-hostname docker
sudo apt update -y
sudo apt install docker.io -y
sudo service docker start
sudo docker info
sudo usermod -aG docker ubuntu
docker run --name myapp -d -p 8080:8080 mylandmarktech/spring-boot-mongo 
docker run --name hello -d -p 80:80 mylandmarktech/hello 
sudo su - ubuntu  

http://18.117.152.63/
paypal-nlb-e6f6ecdfc53d90c0.elb.us-east-2.amazonaws.com

http://paypal-nlb-e6f6ecdfc53d90c0.elb.us-east-2.amazonaws.com/



power point script



VIDEO 8b ... 
############ QUESTION   ...after running this , scp-i key name.pem target/*war ec2-user@publicip of d app servr:/opt/tomcat9/webapps/ .. why do we still nid to run 
cp target/*war / opt/tomcat9/webapps/ ..because tomcat was also installed in the jumpserver and the appserver ,, scp-i was used to copy from the jumpserver to the appser &
to be able to deploy we had to copy  to  the webapp dir ie cp target opt/tomcat9/webapps/  of the jumpserver bc deployment takes place in the /webapp dir



cloud computring engr takes care of the infrastrure in the cloud, establishing the right security for you vpc
its all building infrastruture in the cloud and managing it, like EC2 and other required resources
7:51 PROFF: for any org to operate they nid to manage their applications in a container, we call the containers computers  and the computers can be owned by the company 
or 3rd party, if its owned by the cop ,its called on prem infrastruture bt if  they choose to rent servers, an entire networking envi , data bases etc then that is what 
cloud computing  is all about, so if the cop decides to rent, u nid to v an indept understanding of hw all that is able to work 

the course to knw hw to manage the resources hosted by AWS ,, understanding the process of managing the computing services in the AWS environment
aWS cloud architecture/ aws solution architect

?????/  is it possible to pair across 2 platforms, like a vpc in aws and vcp in gcp,,,
ANS: if u v resources in aws &gcp, and  e.g u wnt to pair frm aws therefore, aws can be ur cloud and gcp ur onprem resorce,like anyothr onprem resource bc they ar nt in the 
9:20 same cloud provider platform   ..... u ar goin to use diff options for the pairing like vpn,aws etc
   
we hv application servers wher applications ar being deployed
18:49for traffic to be routed appriopriately, we v to do load balancing, it can be a load bal or ELS
WE require a software wich helps us achieve load balacing with relative ease e.g ngnix or h ah proxy
the LB does 2 tins , it either accepts or rejects the REQ.. .. meaning tht LB ARE impoertaNT BC IT ACTS As A security measure.. e.g someome trying to access the server wich
we dnt want, it will reject the reQ.... SO if it accepts it will route tracffic to the app servers running in the backend.

WHAT DETERMINES HOW TRAFFIC ARE ROUTED AND WHEN SHUD TRAFFIC BE ROUTED 
inside the LB, WE DETERMINE How traffic will be routed .. we can create some rules, so if it accespts traffic it will route traffic based on the rules e.g if it has this 
options route it to this particular target.......  for the lb to knw the target grp to route to , :
rules will be deinfed, e.g we can config our backend instructing the lb dat if someon types this ip addresss on our listenere port route the traffic to the backend target grps
it will run health cheack on the tagerts
target groups with target 
REQ/traffic frm users goes tru the ELB, and for the it to receive the trafic it listens with its listeners  , it listens on some ports and protocols 
34:45 lb is like a server with  some sofware installed in it e.g if u install an ngninx software in a software in a server its an ngnix webserver, ha proxy installed in the
the server, its an ha proxy LB 
servers listen on protocol and ports
48:20  we v to mk sure the webservers and app servers are up/running and healthy

the OSI model 
different layers   read power point script

1:04:50 for us to hv content base routing, that wil tk us to application LB 
1:24:00 CREATE LB
1:44:40 assign hostanme & change shell
1:46:30   we can use the curl command to knw if the target is healthy .. curl -v ip address:8080 , curl -v localhost:8080
creae a  redhat app server and paste the install script
to know the ports that are open  ... netstat -utlpn ... sudo yum install net-tools


1:47:50 inside the jumpserver using curl -v public ip of the app server:8080  inside , he checked if the app server port number is healthy  but to check the heath of
the jumpserver he curl -v localhost:8080 ..... so i bliv using the ip address, we can check the health of one server in another server 



route tables det hw traffic flows and in the route table we can v a local route
WE WANT TO DEPLOY AN APPLICATION AND SEE HOW THE LB WILL BE ROUTING TRAFFIC TO THE BACKEND APPLICATION

1:49:20 install tomcat ,, to check if tomcat has started netstat -utlpn
 users --->talk to --- elb --- > route traffic to --- app-Servers
users traffic are routed to the app serers via the LB 

quetsion is a jumpserver an instance without an installed applicationn like tomcat, jenkins etc
###### 1:55:09 DEPLOY AN APP & see how LB wil route traffic to the application
git clone https://github.com/LandmakTechnology/maven-web-application

clone the app : ls we hv d application- mvn package to create the packages (inside webapp dir) :ls we v target ie d packages we creatd n we can deploy to opt/tomcat9/webapps 

deployment takes place in the webapp dir /opt/tomcat9/webapps/ 
1:55:29 in real time wil use maven to automate the process......... tomcat was installed in the jumpserver
deploy maven web app to tomcat- inside the jumpserver clone the application...in real time...  -gitclone:clone the repo-ls , we v the maven web app- rename the repo- 
mv maven-web-application/ nwa-ls- then cd mwa- . i bliv mvn package was done to create target dir wich contains the web-app we cloned, so we can deploy
inside maven web app dir ie nwa , we wnt to create packages we can be able to deploy - mvn pakage :to create package (sudo yum install maven -y (it installs maven & all
its dependencies like jave) - ls,2:00 we now hv the target dir- we wnt to deploy to d app server & to deploy to anoda server
usimg d SCp bt it will ask for d key of the app server bc we nid to be authenticated b4 we can copy -vi key name &paste  -  chmood 400 key name.pem - 
scp  -i (key name.pem )target/*war ec2-user@publicip of d app servr:/opt/tomcat9/webapps/ .. once authentication is done, below ,we can see the file that was copied
using scp -i, we wnt to copy the app code ie *war or file "maven web app.war in the target dir that was created when we did mvn package to the tomcat server and i am ec2user 
bc d key am using is ec2user key and in tomcat we deploy in /opt/tomcat9/webapps/ dir
then we also want to copy the *war file that was created to the webapp dir of the jumpserver ie cp target/*war /opt/tomcat9/webapps/, when i ls target/ i see d file i copied

2:05:30 now we can access the application via our application LB.. by clicking the LB dns ,, we ar no longer using the ip add of our appserver
when we copy this information wit the context path (maven-web-app) am able to get a respnse ie 

   nlb1-7f9e896ea7e69c2b.elb.us-east-2.amazonaws.com
   http://nlb1-7f9e896ea7e69c2b.elb.us-east-2.amazonaws.com/maven-web-app/
t
2:0>7 one limitation of ntwrk LB is that it doesnt allow more than one traget grps to be added to a particular LB

users trying to talk to ----> app-Servers
it goes tru the lb
   users ---> elb --- > app-Servers   
HOW WILL THE LB be able to identify the appservers? by the rules we hv defined
one of the tins that happen is DNS lookup  .. domain name servise
the traffic frm the access by the enduser is transmitted using the elb ie elb does a dns resolution, resolve the reQ and forwards it to the right appserver
with the dick or nslookup command i can know that if i type the LB url i can knw what the LB wil be searching for 
e.g nslookup realfinal-cc4b5a5307424ced.elb.us-east-2.amazonaws.com ... but it didnt wrk in mobxterm .. he ran it successfully in  windows ssh client ... 2:14:00

but it is not good practice to use the dns long detail information,, so we have to create a hostname called dollarways.net
create hostname =dollarways.net
ceate dns records: 
so such dat anyone trying to access our lb will type dollarways.net and it will route the traffic to the appserver

DNS RECORDS; we have
a records :hostname  matches to ip adresses
e.g phone contact record : simon .... o7034729002
PTR records : this is the reverse wher  id addresses matches hostname
c-name records ( are aliases)
e.g  landmark  and the alias name is mylandmarktech

2:19:50 CREATING DOMIAN  NAME
route53- reg a domian- click get started- it prompts to search for the name u want to create-select it- checkout-next-contact type:person-name, billing info- continue & pay

2:25:40
in nxt class .. HOW TO USE LB to route traffic to multiple regions bc LB is works very well in a single region but with the help of route53, we can route to multiple regions
2:28:00, video8a LB are used to rote traffic, does load balancing , health check, security perimeter , accepts traffic or reject traffic and if it accespts it based on some
software routing rules whic are made possible bc of the inherent webserver sofware wich ar configured either by me if am deploying a self mgd webserver/LB bt for if its ELB ,  
am deploying a serbice that is partly controlled by aws & by myself and its a paas, bc we dnt worry abt the underlying infrastruture ,e.g whether it nids a window infras or
 a linus infrast  and whatever sf it nids aws manages that ,,, so we can now focus on the type of backend target to be attached , listeners  ,, we  deter them

BENEFITS OF LB

1) LB is gud bc it spans accross an entire region bc it spans across an entire region and that means high availability is achieved bc i can hv my target in diff azs , ie if on 
az is down the other ones can sustain the az that is down 
2) LB comes with addistional benefit like redundancy bc aws creates 2servrs in 2 az  so e.g if one server goes down its automatically replaced without ur knowledge



MY TS EXPERIENCE: I tried installing tomcat with user script ie pasting installation script while launching an inatance but it wasnt working, and the target grp kept
indicating unhealthy bc d https link to install tomcat wasnt the latest version, so i had to google tomcat download and tcopy the correct https link  
 https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.83/bin/apache-tomcat-9.0.83.zip



video9,,  READ UP ADV OF LB,HEALTH CHECK , SECURITY
####1:54:56 by default, LB route traffic to a single region, so for it to route traffic to multiple regions we v to INTEGRATE ROUTE53

5:47 
ELS is better than LB because we dnt bother abt the conf, avil,,, someone manages that for u 
ELS falls under Paas,,, routing trafic to backend application servers, we dnt v to worry abt installing softwares, load balancing softwares etc
load balancers can be either netwrk layer4 or application load balancer layer6
with the help of the target grps we ar able to route traffic to the applica
the loasd bal runs /performs health check
LB makes use of listener,, LB is all about ports,, it listens on ports/protocols
users makeS rEQ like http get reQ, post reQ, delete  REQ

16:20   dominionapps.net --- myALB-178479865.us-east-2.elb.amazonaws.com/
this is creating  record set using DNS, wich means that  .. webapps.dominionapps.net equals  --- dominionapps.net = nlb1-7f9e896ea7e69c2b.elb.us-east-2.amazonaws.com 
NLB:  nlb1-7f9e896ea7e69c2b.elb.us-east-2.amazonaws.com 
sub domian : webapps
this is domain name ---    dominionapps.net

************** steps- create domain name - create hosted zones- then access it on the browser

we search for the dns name in the region it ws created
******17:57 TO CREATE RECORD SET/hosted name
Hosted route -create record-recordname:to create a sub domain if u like e.g if u chooose a sub name as pay then uLL v,:pay.dominion.net-alias:select alias to 
netwk-select NLB region- select dns- create.

TO ACCESS THE APPLICATION 
the application we cloned is /maven-web-app  so , ==http://webapp.dominionapps.net/maven-web-app/ 

22:17 CAN WE USE ONE NLB FOR MULTIPLE APPLICATION ? ... NO
NLB goes with tcp protocol and its layer4 support also it  has one/single target grp

**** 27:17 CREATING APP LOAD BALANCER .. protocol is http or https

he used only / ,, bc it wasnt accepting /maven-web-app
32:12 all our applications are running in virtual private cloud ,, just a free comment
**select ALB- name-internt facing- ipv4-select vpc: az- SG:443,80, ie the ports users can access our appserver frm,outbound:all traffic- listeners 80- create target grp:name-
protocl:http or https 80-select vpc-version:http1- health check :http- heath path : /maven-web-app - tick targets-8080- inclue-create-back to creating NLB: select target-grp
41:39 we can add anoda listener e.g 8080 & create anoda target grp for the listener- create 
 ie /, makes,  ..webapp.dominionapps.net/ .. the root path to access d application and we can run health check on the root path also webapp.dominionapps.net/maven-web-app, 
37:00 so we can run health check like dis " /maven-web-app, checking if the application is running 
further explanation, when we run curl -v localhost:8080 , this is d root path bt we can stil do dis curl -v localhost:8080/maven-web-app,so we can do/add dis /maven-web-app
when configuring the health check and it will check it when we run it .... he used only / ,, bc it wasnt accepting /maven-web-app

**** 42:53 create more target grps- now we hv multiple target grps, 1st  port80, targets: app1/jump, 2nd port80, app2,  but 3rd was 8080 all 3targets, 
the target grps
webappTG]
 tdapp              
 myApp              


***45:13 back to Alb. copy dns we can add /maven-web-app ,,when we paste it in D browser, we can see it routing traffic& when we refresh d browser we can see dif ip adreSes

we cant give cx the NLB dns so to use d domian name created go to 
*******route53-hosted names- recordname or leave it blank- select alias to appl & classic-region-select Alb dns-
createthen with the name created we add the pathh to the application ie /maven-web-app and when we paste in the browser, we can access the application

53:45  HOW TO ACCESS OUR MULTIPLE APPLICATIONS 

OUR APPLICATIONs & target grps 
applicationS        TargetGroupS
 maven-web-app      [webappTG]
 tdapp              [TDappTG]
 myApp               PayPalappTG

so we can create a-Records and define rules 
e.g if someone types dominionapps.net ,, then ...
Rule: .. bc ALB gives us this option  AND WE can route traffic based on  host and path  but we are using host here 
 HOST
dominionapps.net          ---Forward TO: webappTG
  td.dominionapps.net       ---Forward TO: TDappTG
  pay.dominionapps.net      ---Forward TO: PayappTG

we are using the same ALB to route traffic to all the domain
**** CREATE 2recrd setsthey are ALB plus the NLB we created earlier so dats 3 in total - region the same 
WE CAN ALSO EDIT Record set e.g for the NLB  record set where we selected "alias to netwk, we can change it to alias application by ticting the record set n edit it
*****TO decide how traffic shud be route

leave this,, (go bk to LB- SCROL DOWN & click view/edit - (GROup level stickyness is off) we can up click edit - also we can add a rule 
click on + -ADD conditios-drop box:hostheader and paste :td.dominionapps.net -tHEN:select D target gr :TDAPPTG & save ,now if trafic comes to td.dominionapps.net it
wil route d trafic to TDAPPTG we do the same for all 3 
(#### we were getting 502 bad gateway when we paste the domain hosted name in the browser: if its not working, confirn that the targets created in the target grps are healthy

continue here .. #### he went back to the ALB, deleted the listerner and click add listerner-http 80-add action:forward- select all the target grps- add 
*****go bk to LB- SCROL DOWN & click view/edit,,, 
1:18:00 here we can insert 2 types of rules : either the host header or the path 
e.g if we v multiple application, using path option :td.dominionapps.net/pay  or td.dominionapps.net/td or td.dominionapps.net/maven-web-app
the rules didnt work,when he typed the rule in the browser it was 502 bad gateway - only the routing done by adding all the targets grps in the  listeners worked.. 
when we typed the domain hosted name in google 

MAN IN THE MIDDLE ATTACK someone was asked in an interview... the protocol we use to access information is very  imp
1:19:12 when tryig to route traffic, in the browseer, it says ur connection tothis site is nt secure...  we ere using http protocol
he typed td.com and we could see the lock bc it is https ich is secured
1:20:4 when e type https, it gives us option for what is called ssl, secured layer, or tls ,ssl& tls termination 
for secured protcol, port 443 is used for https, cop dnt use http to transmit their content bc its nt secured n ALB supports ssl & tls termination.
data/inf from endusers wil go tru encryption process, it wil b encrypted or coded

HOW TO ENCRYPT DATA
by using some sf  called certificates, it hides the data, so if someone trys to hacked the account he wil only get garbage.. 
issued by certified certificate authorities, certificates are used for ssl termination
when users type info its encrypted bt when it gets to the coy its decrpted.... just free talk .. lb is part of our internal infrastruture
traffic frm users to the LB is encrypted therefore, so we nid to configure ssl termination for secured trafic using certificate.. we nid ssl/tls certificate
der sr some many certificate issuing coy we can use, we can use multiple csertifictae isung coy
e.g aws certificate manger to create certificate
when the info gets to our LB its decrypted by the LB, so we nid to ensure that the by users access our website via a secured protocol using certificate mangers
1:27:0 in aws, we hv AWS certificate manger
certificates from other coy can be imported and used in aws

***********1:27:3 REQ CERT FRM AWS.......... it will reQ for a domain name, it has to be ur coy domain name that u hv access to 
seach- certmanger-req cert- req pub-next- domain name: we can list the domain name,or \the sub domain names e.g  dominionappas.net,pay.dominionapps.net, or*dominionapps.net
and * represents all the sub names we v- dns validtaion-req. 

*********TO VALIDATE THE CERT  if ur the owner create(cname record set)
tick the cert domain name n click on it - creatre record in route 53-create

**** add listener- https:443-default cation:we can select redirect or forward, we selected forward- select target grp-we can add action bt he didnt -default ssl/tsl: 
we can import, or select ACM,iam,, we select ACM- selsct the certificate we just created in AWS-add- view listeners
now we can see the certificate routing traffic to our webapp
now we can move  http://dominionapps.net/ to https://dominionapps.net/..... this is now a secured way of transmitting our data ,, this is ssl termination
*******is asked in INTERVIEW TO ,,, EXPLAIN UR XPERIENCE WITH SSL/TLS CERTIFICATE
BY USING AWS MANGER, WE ENSURE THE TRAFFIC WE TRANSMIT IS HIGHLY SECURED 

********* SSL REDIRECT
IF ENDusers are try to access application from an unsecured protocol ie http
we can do ssl redirect ie http to https by adding condition/rule
1:40:55 ******** (go bk to LB- SCROL DOWN & click on http:80 rules -view edit rules- edit, it the pencil upthen edith one of the rules  -ADD conditions-drop box:hostheader
and paste dominonapp.net -action:redirect:443...convertin an unsecured traffic to a secured traffic, so if u type http://dominonapp.net , it will automatically redirect d 
traffic 

PLACING LB in the frontend gives more security to the backend & we also mk use of managed LB services in AWS like ELS which gives us more options to integrate in our process
of application deployment 

ASG, auto scaling grp /LC, LAUNCH CONF/LT, launch template

48:12 TO ENSURE A CX FINISHES HIS TASK ON THE SAME SAME BACKEND SERver
1:45:25 ensuring that cx are only logged out in idling time and not at all times, we can use sticky session/stickyness to prevent that 
when hes asked for his login details again bc he has been redirected to anoda server , it means stickyness is off

******CONFIGURING SESSION TIME ,, when a user connects 
click target group-attribute:edit-tick stickness:we can select 5min,meaning if u ar on dat server u cant be moved to anoda server during dat time,bc u ar actively connected.
to that backend server, save changes - it refused to save , so he - go bk to LB- SCROL DOWN & click on http:80 rules -view edit rules- edit, it the pencil upthen edith d rule 
assocated with the target group we are enabling stickness for - delete d previously created rule- add action:forward to- grp stickness:5miden-update ..we do the same for all 
the rules associated with the target grp e.g if we created hhtp:80 or https:443 rule for the target grp we ar enabling stickines on..

####1:54:56 by default, LB route traffic to a single region, so for it to route traffic to multiple regions we v to INTEGRATE ROUTE53

####1:56:18  HW CAN WE AUTO SCALE TO ACHIEVE FULL AUTOMATION
ALL ALONG WE V BEEN creating our target grps manually, for e.g if ders a spike in one of the target grps and the targets can no longer carry d load and we nid nid to add 
more targets , we can add manually but we can also automate the process,, equally, if der is downtime,we can also deregistr some targets .
**** we can automate using autoscaling
2types.. horizontal & vertical scaling
******e.g of horizontal ,,we v a t2 large server dat has 8GB & WE convert/change it to T2XLARGE ,,, now d T2large disappears completely &we ar left with T2X ,
ALSO, if u had 2 t2large servers 200GB each, then u add another 2t2large servers with 500GB ,, it is also horizontal scaling 
 e.g of vertical scaling .. from T2 large with 200gB to T2large with 500GB.. MOVING TO LARGE CAPACITY SERVER, its tha same sever bt increased in size
SCALING IS VERY IMP BC BIZ NIDS CHANGES CONSTANTLY

2:03:53 READ THE SCRipt on telegram ... EC2 autoscaling 
benefits... cost mgt etc
when u manually provison ur infrastructure withot any autoscaler, the tendency is dat u wil spend more..... read it up

********HW auto scaling works ...... was able to see the auto scaler creating instances when we deleted some instances, its using the launch template
in ths appservers u creat saling policy , u ar saying u nid a minimun of a appservers,max100
appServers:
Scaling Policy
  Minimun  = 2
  Desired  = 2
  Maximum  = 100

we can increasr our server base on either CPU usage or men usage e.g 
 add instances if:
  cpu usage > 75% or    
  mem usage > 80%

**********1. Create a Launch configuration  ..............  readup all the script
   Create a Launch Template , dis is  anew generation of launch configuration 
2. Use your Launch Template to create your Auto Scaling Group  [ASG]
3. The auto Scaling group will create the Desired/required number of servers 
   using Scaling Policy and the Launch Template 
##### this policy wil create the minimum number of severs ie 2

2:17:00  TO MK A SERVER HIGHLY AVAILABLE
*****instances- select server- OPEN IT;ACTION:IMAGE& TEMplate:create template- nameversion:1- tick providing guidance, he unticked it,he wil do d autoscaling later-broese
more amis-tick the machine image used to ccreate our server-confirm changes.-manually select instance type-(d key,SG, everytin has prepopulated)-tag-create launch template.
2:18:33 in action of the template we jst created, i can select create auto scaling grp, 
also i can go to auto scaling grps-create auto scaling grp- name-launch template:select the template we created/want-nxt- the same vpc-select all d AZ, ie d autoscaler can
launch server in any of the AZnxt- we can attach to LB- it can also perform health check-nxtgrp size 2,2,200 - scaling policy:target tracking:70 ie if d avg cpu utilization 
exceed 70% it shud either ad more inatances or reduce instances- nxt- we can do sms notification -nxt add tag-nxt-create- 
2:23:21 the launch template has been created
now the auto scaler is updating capacity,and when we shut down the instances we already created, we can see that the autoscaler hv created instances to replace the one we 
shut down.

*****2:27:32  CREATING A LAUNCH TEMPLATE FROM THE SCRATCH WITHOUT AN AMI... (we wnt to use it to create and launch tomcat)
I nid a launch template bc when d autoscaler is been trigger the launch tem conatains default confi, the way i wnt d instances cofigevrytin is defined in the launch template

********LAUNCH TEMPLATE-name- vers:1- can use or nt use source template-machine - browse:redhat linux8-iam freetier-t2 micro-key-ntwrk can be included or nt-SG-
Advance:paste script-create- auto scaling grp- name :tomcat app ASG-launch temp-
select temp- vers:1- select vpc- all AZ-NXT- we can attach LB & if we do, we v to choose Targt grp n he did- nxt- 
1,1,1- policy:appl load targ REQ, IF the target value is 5000 ie if our target is receiving an avg of 5000 req add more instances-scaling policy:none-nxt- creat autoscaler.
so when we check, we can see the autoscaler creating the tomcat server
*******2:34:37  when coy ar creating their autoscaling grp they mk use of golden amazon machine image  ... AMI
WE USE AMI to launch inastances and it comes with operating system like ubuntu,redhat,windows but
AMI conatins the default AMI plus other configurations like e.g the configured  



security of VPC........ ROUTE TABLE ACTS AS A SECURITY MEASURE 
2:46:30 route tables det hw traffic flows and in the route table we can v a local route e.g our vpc  10.0.0/24 SUBNET1has 10.0.0.0/25 , & Subnet2 has 10.0.0.28/25 , in the 
route table i want to define hw traffic will flow in sub1 so i v a rout tbale that wil route local & internt traffic and anoda table dat route only local traffic.. sub1 
WHER we v ELB/webser is permited to receive trafic so it has local traficfic 10.0.0./24 ^ internet traffic 0.0.0.0/0 ,, sub2 with app serv is nt permited to receive intent
trafic dat means the route table hasonly 10.0.0/24 .. therefor the ROUTE TABLE ACTS AS A SECURITY MEASURE ,,.. BC since this subnet is assocaite with the route table without
internet, thers no way it can receve internt traffic .... now for internet to get into sub1, we v to create igw and attached to the vpc,, also we creat the NAT gateway in the
public sub. ie sub wit route to d internt,, with d NAT, resources in the private subnetcan v internt access.. bt since we ar mostlt launching servers we nid ELB, Auto scaling
grps, launch template even targets and we provison our resources inside our vpc/netwrk 
also a coy can v more than one vpc so to est a private connection btw 2vpcs, we can use vpc peering 
for multiple vpc and unprem/insiteinfrasture, to ensure 
unprem servers ar able to taklk with our servers in the cloud, we can use vpn, or aws direct

??????#### some said he was aske din the interview hw he (d interviewer) gave e.g of xray hw do ur private subnet to d outside , hw do u configure that& he told him vpn bt
at the end he asked theinterviwer what he wud do and he told him endpoint 
*** prof wil xplain hw to use vpn endpoint and relational endpoint e.g when a database is crsated ina  private subnt and u wnt ot access it in a dif envir like a kubenetes
cluster then u nid the endpoint of the database

????if i create an account in a server n der are many servers and nxt time am in another server, is der a way to replicate all the data that is on the first server to this 
present server, ie concerning LB.... prof yes ders a replication process , once an application ar captured,once u access an applica u v d option to write data into the
application n ders  genearallyy a data base stuff we look at once we get into docker , hw to use databases n mk our life a little more easy.



video 10&11
if u are to xpalin cloud computing and ervytin dt is involved to it , wev bin able to realisee der ar certain elemrnts to that effet wich we can discuss wit relative ease when
cloud computing is involved...also talking abt cloud and their terms of org or levaraging their resources by a 3rd party ie using a 3rd party infrastructure and those 3rd parties
in computing languages we call dem  called cloud computing providers and dey can provide ntwrking sevrvices, database services,server services,compute serv... & dis ser ar imp
to tk note of when it comes to the diff element of cloud computing  our converstion v genral tailored towards that direction n all wev delibrated on is to ensure that end
to end exercise is been achieved seemlessly wit relative ease. 

"###############the diff aspect we hv been able to cover.......... read up cloudcomputing script
1. aws cloud computing

What is Cloud Computing ?
Cloud computing is the delivery of computing services—including 
  - servers,
  - storage,  
  - databases, 
  - networking, 
  - software, 
  - analytics, 
  - and more
 over the Internet (“the cloud”)  hosted at a remote data center managed
 by a cloud services provider (CSP).
   CSP = aws, GCP, Azure, alibaba, vmware, salesforce, oracle, ibm, 

 aws cloud = 
  - servers,  e.g    = ec2 instances  
  - severless, e.g   = Lambda functions,
  - storage,         = ebs, efs,elastic file system, s3, 
  - databases,  when we get into conatiner     = rds,relational databases e.g [ mySQL, mariaBD, posgressSQL, arura,  ], nonRDS[ dynamoDB,  ]
  - networking,  = vpc, creating private ntwrk in aws
  - software,   to create ec2 instance we nid a sfware to create the server resources = ami, SDLC, hw to automate task in aws
  - analytics,  hw to analyze waht is happening in aws = CloudWatch, 
  - and more  
  - security     =aws security services 

  Netflix = entirely run on S3  bucket, jst one service of aws is makn the coy a multi time billion coy
wit the help of cloud computing u can easily become a millionaire frm the comfort of ur room if u understand a few of these services


21:19  ...IAM = identity and access mgt
=====================
e.g if u wrk for netflix
Netflix ---   
   DevOps Engineers   
   Developers .. all these pipo ar granted access to aws resources, therefore who shud access these resource is very imp
so the serVice that is used to decide who access aws resources is called IAM among others, 

AWS COVERS 2 THINGS: .. so u can finish this course and work as any of this 
Cloud Engineering  
Infrastructure Engineering
so when we ar managing this resources thses ar all the infrat that nids to be managed:servers,
  - storage,  - databases, - networking,- software,- analytics, - and more
in managing infrastruture, we can :Infrastructure MGT [ create, view, update, delete, modify, grant access ] 
and dis can be done using GUI ... E.g chnaging the name of my server , vpc .. we ar managing dis frm the console n u realise when u do dis thers high possiblity of error
so apart frm using console we can use files 
===========================

########## HW CAN THESE RESOURCES BE MANAGED???????
generally WE CAN use 
CONSOLE  = GUI   e.g creating servers, vpc in aws :
   Prune to errors 
   Time consuming 
   Visibility is challenging  
   limited automation - 5%  

also using Commands = CLI  = aws s3 ls :
   Prune to errors 
   Time consuming 
   Visibility is challenging  
   limited automation - 55%  
   It cannot be easily replayed or redeployed
   it can't be version controlled  

 ########## THE BEST OPTION .....we can also use IaC and we r going to see d dif level of automation it brings to d table  = codes    = files  = IaC / Terraform  :
   IAC wil cover terraform, we can use a tool called terraform, wit terform i can create a file,, e.g i can wrote  asimple teraform code to create vpc
   It is not Prune to errors 
   saves time  
   Visibility is very easly  
   great automation - 99%  
   It can be easily replayed [dev/stage/prod]
   it can be version controlled   
****** IN OUR ENviron, we use all GUI, CLI and IAC, BUT WE  mostly manage infrasture using infrastructure as a code 

resource "aws_vpc" e.g i want to create a vpc for tesla  "tesla-dev" {
  cidr_block = "10.10.0.0/24", i wnt to crate a vpc wit 200ip addreses
  instance_tenancy = "default"
  tags{
    Name = "tesla-be"
    Environment = "dev"
  }
}

i can easily use dis same file in d stage environment, it can be easily replayed or reployed in the dev,stage &prod, i can version control the file using git wit dif branches
ie in the script ill change the environ from dev to stage or prod

resource "aws_vpc" "tesla-stage" {
  cidr_block = "10.10.0.0/24"
  instance_tenancy = "default"
  tags{
    Name = "tesla-fe"
    Environment = "stage"
  }
}
=========================================
Team members can manage resources using the console, cli or IaC.
However for that to happen  there must be authenticated and authorise    

IAM: in AWS , This is a key security service in aws used for  
     authentication  and 
     authorisation for Engineers and other team members to run different tasks. 
 aws-account: U CAN ACCess aws account as a :
   root-User =   
   IAM-USER  = 
changing from vpc to the IAM  dashboard it changes frm ohio to global

vpc= regional and IAM is global 

Assignement:
Ticket-AS110:
  Group aws services covered so far based on Global, Regional and Availability Zones
  vpc = 

Access management: can be accessed to 
  IAM User groups = we can hv a grop for and assign policies to grps
    managers [AdminAccess] , ie managers can do evrytin
    developers, [VPCREADACCESS, S3FULLACCESS, EC2READACCESS ] therfore e.g he can launch ec2 instances ,so d developer must conact the manger or james bc they hv full access
    Engineers [VPCFULLACCESS, S3FULLACCESS, EC2FULLACCESS]   
  IAM Users       = simon [VPCREADACCESS] , class33, James[VPCFULLACCESS]   
  IAM Roles
 policy is an object in aws that define permission
  IAM Policies - are Permissions that can be assigned to users/groups/IAM-Roles
               e.g of policy can be : 1. VPCREADACCESS / 2. VPCFULLACCESS  

Ticket00133:
  Create iam user account access for; Class33, Simon and James  
  Create user-group access for; managers and developers & Engineers
  Assign admin access to the managers group    
  assign VPCFULLACCESS, S3FULLACCESS, EC2FULLACCESS to the Engineers group
  Add Simon to the manager's group  
  add james to the developers group  
  Assign EC2READACCESS to class33 user        

 aws-account: 
   root-User = 
      root-email =  landmark@gmail.com 
      root-password = admin123@001  
  IAM-USER  = 
   https://287784533479.signin.aws.amazon.com/console
    userName = simon




https://www.td.com/ca/en/personal-banking/  [50 appServers]

     prof  = Simon Legah  

   /maven-web-app  

 bought a domain name  :
  simonlegah.com    
  olu.com   

applicationS        TargetGroupS
 maven-web-app      [webappTG]
 tdapp              [TDappTG]
 myApp               PayPalappTG


We can created a-records  

Host  
Rule:
  dominionapps.net          ---Forward TO: webappTG
  td.dominionapps.net       ---Forward TO: TDappTG
  pay.dominionapps.net      ---Forward TO: PayappTG

  webapp.dominionapps.net
  
http://dominionapps.net/

https://dominionapps.net/  == 

https://dominionapps.net/maven-web-app/  

https://www.td.com/ca/en/personal-banking/

Path
   / 
   /maven-web-app   
   /java-web-app  
   /my-app  
   /td-app  

Explain your experience with SSL/TLS certificate  

  http ---> https    

SSL redirect:    
http://dominionapps.net/  == 
    https://dominionapps.net/

http://dominionapps.net/ 

ASG / LC / LT:


ASG:
  Horizontal Scaling
  Hertical Scaling

appServers:
Scaling Policy
  Minimun  = 2
  Desired  = 2
  Maximum  = 100
 
 add instances if:
  cpu usage > 75% or    
  mem usage > 80%

1. Create a Launch configuration  
   Create a Launch Template  
2. Use your Launch Template to create your Auto Scaling Group  [ASG]
3. The auto Scaling group will create the Desired/required number of servers 
   using Scaling Policy and the Launch Template 


Golden AMI:
My AMI: 
 ubuntu / redhat  



Launch instances  = 
IAM:

EC2  
storage  [ebs, s3, efs]
ASG  
ELB  
VPCs. 
IAM = 
======================================================
Terraform videos, scripts  and Running notes in GitHub
======================================================
Docker and Kubernetes MasterClass
==================================




5. JENKINS-TOMCAT INTEGRATION:
============================= 
1. INSTALL 'Deploy to container' Plugin on Jenkins UI
       JENKINS uses plugin to extend it functionality

2. ADD A TOMCAT USER in /tomcat9/conf/tomcat-users.xml 
   vi /tomcat9/conf/tomcat-users.xml 
   mylandmark landmark 

<user username="landmark" password="admin123" roles="manager-gui,admin-gui,manager-script"/> 
<user username="dominion" password="admin123" roles="manager-gui,admin-gui,manager-script"/> 
<user username="LandmarkTechology" password="admin123" roles="manager-gui,admin-gui"/>


1. aws cloud computing

What is Cloud Computing ?
Cloud computing is the delivery of computing services—including 
  - servers,
  - storage,  
  - databases, 
  - networking, 
  - software, 
  - analytics, 
  - and more
 over the Internet (“the cloud”)  hosted at a remote data center managed
 by a cloud services provider (CSP).
   CSP = aws, GCP, Azure, alibaba, vmware, salesforce, oracle, ibm, 

 aws cloud = 
  - servers,     = ec2 instances  
  - severless,   = Lambda functions,
  - storage,     = ebs, efs, s3, 
  - databases,   = rds [ mySQL, mariaBD, posgressSQL, arura,  ], nonRDS[ dynamoDB,  ]
  - networking,  = vpc, 
  - software,    = ami, SDLC, 
  - analytics,   = CloudWatch, 
  - and more
  - security     = 

  Netflix =   S3  bucket

IAM = 
=====================
Netflix ---   
   DevOps Engineers   
   Developers 

Cloud Engineering  
Infrastructure Engineering
  Infrastructure MGT [ create, view, update, delete, modify, grant access ] 
===========================
CONSOLE  = GUI     :
   Prune to errors 
   Time consuming 
   Visibility is challenging  
   limited automation - 5%  

Commands = CLI  = aws s3 ls :
   Prune to errors 
   Time consuming 
   Visibility is challenging  
   limited automation - 55%  
   It cannot be easily replayed or redeployed
   it can't be version controlled  

IaC  = codes    = files  = IaC / Terraform  :
   It is not Prune to errors 
   saves time  
   Visibility is very easly  
   great automation - 99%  
   It can be easily replayed [dev/stage/prod]
   it can be version controlled   

resource "aws_vpc" "tesla-dev" {
  cidr_block = "10.10.0.0/24"
  instance_tenancy = "default"
  tags{
    Name = "tesla-be"
    Environment = "dev"
  }
}

resource "aws_vpc" "tesla-stage" {
  cidr_block = "10.10.0.0/24"
  instance_tenancy = "default"
  tags{
    Name = "tesla-fe"
    Environment = "stage"
  }
}
=========================================
Team members can manage resources using the console, cli or IaC.
However there must be authenticated and authorise    

IAM: This is a key security service in aws used for  
     authentication  and 
     authorisation for Engineers and other team members to run different tasks. 
 aws-account: 
   root-User =   
   IAM-USER  = 

Assignement:
Ticket-AS110:
  Group aws services covered so far based on Global, Regional and Availability Zones
  vpc = 

Access management:
  IAM User groups = 
    managers [AdminAccess] , 
    developers, [VPCREADACCESS, S3FULLACCESS, EC2READACCESS ] 
    Engineers [VPCFULLACCESS, S3FULLACCESS, EC2FULLACCESS]   
  IAM Users       = simon [VPCREADACCESS] , class33, James[VPCFULLACCESS]   
  IAM Roles
  IAM Policies - are Permissions that can be assigned to users/groups/IAM-Roles
                1. VPCREADACCESS / 2. VPCFULLACCESS  

Ticket00133:
  Create iam user account access for; Class33, Simon and James  
  Create user-group access for; managers and developers & Engineers
  Assign admin access to the managers group    
  assign VPCFULLACCESS, S3FULLACCESS, EC2FULLACCESS to the Engineers group
  Add Simon to the manager's group  
  add james to the developers group  
  Assign EC2READACCESS to class33 user        

 aws-account: 
   root-User = 
      root-email =  landmark@gmail.com 
      root-password = admin123@001  
  IAM-USER  = 
   https://287784533479.signin.aws.amazon.com/console
    userName = simon  
    password = Admin@123 
    accountID= 287784533479

  AdministorAccess  -- ec2, s3, vpc, route53  
  EC2FullAccess     -- 
  EC2ReadOnlyAccess -- 
Security is inherent in our environment 
we use the principle of least priviledges 

IQ: Which tasks is an IAM user with admin access unable to do? Billing  

Users can have either:
  console access [userName and password and accountID]  or 
  programatic access using [accessKey and secretAccessKey]
  to aws resources    

   accessKey      =  AKIAUGAPXTS7AGZNQ600
   secretAccessKey=  0OeifliOM4J0lUbOLPvDFDP/Vb4QNwN6haIxyI24

aws configure 
   accessKey
   secretAccessKey
   defaultRegion  
   output format [table, json]  

aws s3 ls = aws command not found  

$ aws s3 ls
An error occurred (AccessDenied) when calling the ListBuckets operation: Access Denied


aws ec2 describe-instances
aws ec2 describe-instances --filters "Name=tag:Name,Values=webserver"
aws ec2 describe-instances --filters "Name=tag:Name,Values=appserver"
$ aws ec2 terminate-instances --instance-ids i-5203422c

https://www.bluematador.com/learn/aws-cli-cheatsheet

aws ec2 describe-vpcs | jq -r '.Vpcs[]|.VpcId+" "+(.Tags[]|select(.Key=="Name").Value)+" "+.CidrBlock'
aws ec2 describe-vpcs

aws ec2 terminate-instances --instance-ids i-029abc614ea3dd26c i-0b9c2fae27ed0cc9e

 iamRoles are Policies/Permissions like [ VPCFULLACCESS, EC2FULLACCESS ] 
 that can be attached to another aws resource like [ ec2, eks, ecs   ]  
  
IAM-Roles can be attached to an aws resources [ec2 Instances, eks, ecs,etc.] 
to permit the resource manage other resources based on the Policies attached 
to the role 
  class31-role [S3ReadOnlyAccess]   

like 
  

https://docs.aws.amazon.com/cli/latest/userguide/cli-usage-help.html
https://aws.amazon.com/cli/

Identity providers
Account settings

===================================
Terraform and other IaC tools to manage aws resources
=====================================================
Terraform
CloudFormation 
Ansible  
Terraform:
=========
- support Multiple clouds [aws, GCP, Azure]
- codes/files are used   

Ticket00148 - create a vpc in us-east-1 using:
  1. console  - netflix-1c
  2. cli      - netflix-2c
  3. IaC - Terraform   - netflix-3c 
terraform codes are written in HCL - HASHICORP configuration lanaguage   
terraform codes has .tf extentions  
   .sh[shell script] / 
   .java[java codes] / 
   .py [python codes]
   .tf [terraform codes]

18hours to cover terraform:  
===========================

Next week = starting  
  containers 60 hours : 
    docker     - containerisation and 
    kubernetes - container orchestration  
  provisiong and Infrastructure mgt  :
    Terraform  
    Ansible  
  python:

11AM EST / NewYork / Toronto / MD time 
4PM GMT / LAGOS / DOUALA

   32  aws s3 cp aws33.pem class30b
   33  aws s3 cp aws33.pem s3://class30b
   35  aws s3 cp  class30b/Dockerfile .
   36  aws s3 cp  s3://class30b/Dockerfile .
   37  ls
   38  pwd
   39  aws s3 cp  s3://class30b/Jenkinsfile /home/ec2-user/
   40  ls
   41  aws s3 cp  s3://class30b/Jenkinsfile  s3://class33aa
   42  aws s3 ls class33aa












