today we start a new serie of ANible
so far we hv been working with terfrm , its a tool we use for infrastrure prvisoining
we sue trtfrm to provion/create infrastrure

 but we hv anoda tool we call Ansible 
this is a tool we wil use for configuration , like after you cretaed your infrastyrure how do you configure it , how do you install software 
e.g you may log into an ec2 instance or maybe at work theres a package thats missing , you nid to insatll mayb an apache server
already you an the instance running but ur suppose to instal some software inside of it, that process of dinstalling that paticular software is what is called configuration
mgt 
when you patch a sevrer, you update a server, your nt creating the server, you are basically configuring it
when you instal jenkins on a server your not creating jenkins ec2 instance , your configuring it , thats the process thats called configuration mgt
so as we look at config mgt we wil be looking at ansible

 1) we wil be looking at key concepts 
this is just involves you defining what ansible is 

  What is Ansible?
How ansible works.
What are the benefits of Ansible?

  ****at an interview they might ask you
 or  your suppose to implement it in your organisation, how wil ypu sell it, ho wwill you convince your org that they need ansible
so you need to understnad,what is is , how it wrks and its benfits to an org

 2) we will see the process of hw to install ansible and we will be able to have a script to install ansible on our ubnuntu server

3) we wil look at the ansible config file. like hw do u configure ansible 
once you install the ansible software in an ec2 instance then it gets to a point wher you need to configure it, hw is this ansible goin to automate process

then ansible will be working with what is called managed nodes, so we woil look at hw w eacn configure mged nodes
how we can use ansible to be able to patch other servers, to be able to configure other servers , we will look at how we can configure that

4)  we will look at Ahod commands 
like when you run now commands in ansible , we hv commands that you can run on the command line , what we call adhod commands but we wil also see that we can use playbooks

5) we will look at what ansible roles are 
6) dynamic inventory 
 and finally
7) ansible vault


   but for tonight we go over the introduction, try and install ansible and see hw we can configure some managed nodes or remote nodes using ansible

      WHAT IS ANSIBLE 

 Ansible is an open-source configuration Management, deployment and provisioning Automation tool maintained by Redhat. the vendor 
It is very, very simple to setup and yet powerful.
Ansible will be helpful to perform:
Configuration Management
Application Deployment  e.g we can use it to deploy in k8, w ecan write a playbook that we can use to deploy in k8
Task Automation  , we can automate task just by using ansible 
IT Orchestration


    How Ansible works

Ansible works by connecting to remote nodes (hosts) and pushing out small programs, called “Ansible modules” to them.
e.g you hv your ansibleserver, this is the server wherby you hv installed your ansible software on this ec2 instance as such this is my control node, ansible controller 
bc its the server that have installed my ansible server and afteri have that i can hv multiple remote nodes, i can hv other ec2 instances/servers  one can be a window server,
the other a redhat server , then what ansible does is , am able to control this multiple servers frm my control node thru ssh connection 
once it has a ssh connect it connects to remote host (the windowd and redhat servers) it is goin to push small programms into your nodes this programs are what we are caling
modules , it pushes your ansible modules insid eof theservers that ist controlin, once that is done, the module wil perfrom a task, lets say i want to create a file inside 
of this so i can use ansible to go insid ef this ec2 istance n create a sile so it sgoin to use a file module, it wil push the file module over ssh , once its moved , ansible 
wil use the file module to create that file accoridng to the specifictaion, once it creates the file it deletes the module and once it accomplishes that task , it masrks that
task a complete and then it deletes the module   . 

   **********10:48
 on the window server, i can push a program that will congigure the server an donce its done the module is taken out
this is how ansible does 


The pushed programs/modules will be executed on remote server by Ansible over SSH and removes them when finished.
Unlike Puppet or Chef it doesn’t use an agent on the remote host, Instead Ansible uses SSH. It is agentless.
It’s written in Python which needs to be installed on the remote host.
This means that you don’t have to setup a client server environment before using Ansible

   INTERVIEW QUESTION
 what other configurtaion mgt tools do you know ??

ANS: 
 Apart from ansible, puppet , chef is also a configuration magt tool 
this two uses agent on the remote host while ansible uses a push mechanism and thats why ansible stands out 
ansible pushes modules so its your controller that initiates, it pushes out modules so it doesnt need agents in your seververs
unlike puppet and chef that need an agent bc the use a pull module an dbc they use a pill mechanism as such you have to install a puppet agent of a chet agent inside of 
each node bc it is the agent that will initiate that particular push bc your controller will be pulling. it uses a pull mechansim when it does the configuration
so ansible stand sout bc it doesnt need an agen , it uses a push mechanism as such its agentless 


  ******* bc ansible is written in python thefrore python needs to be installed on your remote node bc ansible runs on python so the firtsthing is python needs to be 
installed on the remote node for ansible to wrk , so this menas you dnt ned to setup a client server env before before using ansible 
all you need to do is setup your ansible server then inside of your configuration file which w ecall the host file , you just need to pass the ip address of the 
particular server that you wnat to patch or confgure then ansible will take care of that so you dnt have to do any setup on these particular servers
so thats basicllay how ansible works


    INTERVIEW QUESTIONS 

Benefits of using Ansible

It is a free open -source Automation tool and simple to use.
Uses existing OpenSSH for connection ,    modt o THE servers taht we provison already hv open ssh configure so ansible jsut uses thsi  for it to do configuration
Agent-less – No need to install any agent on Ansible Clients/Nodes
Python/YAML based                        .... playbooks are written in yaml language n yaml are very easy, so ansible is easy to use 
Highly flexible and versatile in configuration management of systems.
Large number of ready to use modules for system management  ,  ansible community and redhat they hv a whole lot of module thst sre resdy to be ued
                                so u dnt need to create or re write anything just use the existing module, we hv a lot of modules that comes preloaded when u install ansible
Custom modules can be added if needed        


******** just knw what ansible is, knw how it works, once you knw how it works you are able to present this in an interview , you are able to easily talk abt ansible just
based on this and the benefits

so if your wroking for a coy that doesnt use ansible yet and you wnat to convince them , may they are alwys patching servers, alwasy sshing into servers manually to do
configuration then you can introduce a configuration mgt tool as ansible 


   17:32 
     HOW DO YOU INSTALL ANSIBLE
   Ansible is designed to run on Unix/Linux systems, therefore Windows systems aren’t supported for the control node.
 this means that the control node has to be either linux or unix for ansible to be installed once it is isnstalled, it can controll the remote nodes whethr windows 
so  a conrol node cannot be windows but tonight installation we will be installing it on a redhat 
for maco s, the operating system is linux , if you have mac then you can run ansible directly frm your mac bc thats a linux env
but on windows laptop, you cant directly run ansible on ur windows server u hv to create an ec2 instance or what is called a windows subsistence of linux,  wsl , mayb ubuntu
or contos os then you can for sure install ansible and run lt locally 
bt for our case we will run ansible on an ubuntu sever

Ansible is python based and therefore the control node and the managed nodes need to have python2 or python3 installed on them.
******* the good news is that most of our system already cm with python installed bt also ansible once it connects to a system, if python isnt already installed,its goin to
install python basically 

Ansible can be installed in three ways:

Using yum or apt       ******** if ur installing on ec2 instance
Using pip              ****** package manger for python
Using compile file       **** download / use a complie file     ****  https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html 
                                in the link u can see hw w e ar able to install ansible



   ****** we are installing ansible on ubuntu , meaning it will be our control node 

******* 21:44              PREREQUISITE TO INSTALL ANSIBLE 

  Installing Ansible on Ubuntu

  $ sudo adduser ansible                   ***** 1st u need to create a user who willl install ansible, this user will install the ansible software
  $ echo "ansible ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/ansible       ********* we add him to sudoers group , for sudo right bc he will be installing packages
  $ sudo su - ansible 
  $ sudo apt-add-repository ppa:ansible/ansible 
  $ sudo apt install ansible -y
Ansible installation on REDHAT EC2

  $ sudo useradd ansible 
  $ sudo hostname ansible 
  $ echo "ansible ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/ansible 
  $ sudo su - ansible # Enable PassowrdLogin and assign password to ansible user 
  $ sudo yum install python3 -y 
  $ sudo alternatives --set python /usr/bin/python3 
  $ sudo yum install python3-pip -y 
  $ pip3 install ansible --user
Script to add user, password and enable password authentication

#!/bin/bash
$ sudo useradd -d /home/ansible -s /bin/bash -m ansible
$ sudo echo "ansible:ansible" | chpasswd
$ sudo echo "ansible  ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/ansible
$ sudo sed -i "/^[^#]*PasswordAuthentication[[:space:]]no/c\PasswordAuthentication yes" /etc/ssh/sshd_config
$ sudo service sshd restart






