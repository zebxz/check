IMPORT TASK, INCLUDE TASK, FUNDAMENTAL DIFF BTW  import task and INCLUDE TASK 


setup module is the default module so even if we dnt indicate gather facts = true ,its still goin to run 
except i want it to disable it  then i have to indicate it as false   

the syntax of playbook: playbks are written in yaml language and all files should hv yml
yaml format is very strict with identation

if you have a task for ansible to do, you need to give it a module , like what program is it goiin to use 
if the task is to install a package then you need to give it a module that installs packages
if its to copy or transfr a file you can use a file module
if its to copy data that are changes/dynamic its a file that has variables and these variables will be read at runtime then we dnt use a copy module rather ansible rEQs you to
use a template
A template is just a mode whereby things can be put in so when u use a template module its a module that will copy dynamic data


8:30 
********************* START

1)
####  
14:36   TO INstall multiple packages      
    install_multiple_pkgs.yaml

18:48 
it is skipping bc of the conditons 
its using the setup module to read the variables then it skips a server when the conditions are not met
insatll webserserver on redhat 
install java on redhat
install webserver on debiem.yml
install java on redhat
so we hv 4task that have been carried out
but instead of me running it like this i can break down this playbk, bc am still using conditions, i can reduce the lines on my playbk when i can create reuseable task

#####2)
24:45               install_multiple_pkgs_with _import_and_include.yaml

***** 
so for each of the 4 task executed in the playbk above, i can create a task for each of them and on my playbk ill  use what is called include_tasks to import these tasks  
so now each of these tasks are reuseable bc they are not tied to a particular playbk
so i can call these task in any other playbk by saying include_tasks and i just refernec the name , so am making my task to be reuseable

29:08 
********** 
setup module is the default module so even if we dnt indicate gather facts = true ,its still goin to run 
except i want it to disable it  then i have to indicate it as false 


  ##2i)
      
       FUNDAMENTAL DIFF BTW  import task and INCLUDE TASK 
1)When we use import task it just says
chANGed : 172.31.24.167
but when we say include task its giving us a range of information, the name of the task that is included
included: /home/ansible/ansible-mc-series/05-playbooks/05-using and include/install_ java_Redhat.yml
so include is giving us more task
again we wil see more diff btw include and import
u ll use include when you want to include tasks that have variables ie task that change
2) so we use import when we are using it on static data ie does not chaage



31.14
***************
install webserver on debiem.yml and install webserserver on redhat, 
dabiem and Redhat are both ansible os family 
so i can pass a variable within this name 
when i pass a vriable i can reduce this playbk (install_multiple_pkgs_with _import_and_include_.yaml )even further
i reduce it furtehr by been able to use thses as varibales so it pulls the right file


#### 3)
32:25
***************
i can rewrite this playbk frm (install_multiple_pkgs_with_import_and_include.yaml) to (install_multiple_pkgs_with_include.yaml)

---
  - name: Simple play to install multiple pkgs
    hosts: all                                     ******am saying i wnat to import task 
    gather_facts: true
    become: yes
    tasks:                                                                    ******** if the os family is debiaem then it wil import debiem.yml 
      - import_tasks: install_webserver_{{ansible_os_family}}.yml    *** its goin to import a task if the os family is Redhat, when it does the setup,it wil import redhat.yml
      - import_tasks: install_java_{{ansible_os_family}}.yml


so now am reducing my playbk frm  (No.2) to (NO.3), ie just 2lines bc am now passing/using a variable


###4)                                                 (import.yml)

34.24/ 36.12                                         USING IMPORT WHILE PASSING A VARIABLE              
 ran the script  but failed
error
 when using import you cannot use variables ,you cannot hv data that is changle bc this variable {{ansible_os_family}}is suppose to be substituted when the playbk is running
so we use import when we are using it on static data ie does not change





































