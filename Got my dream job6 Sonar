

LINUX , scripting, git , maven, tomat, sonar, nexus, jenkins , aws, docker, k8, terraform, ansible, k8/helm 
In our env, we use LINUX OS for file,process,package,security mgt, GIT FOR VERSIONING, MAVEN FOR BUILD


TYPES OF TESTING, CODE QUALITY TOOLS, CODE QUALITY BENCHMARK, COMPARING ACTUAL RESULT AGAINST BENCHMARK, CODE QUALITY, SONARQUBE COMPRISES OF COMPUTE ENGINE, SEARCH ENGINE, DATABASES, WWEBSERVER, WHERE IS THE SONARQUBE HOME DIR
 VERSIONS OF SONARQUBE WE CAN INSTALL IN OUR ENVIRONMENT, 



START
57:00 *******  duplication can be avoided by using function     

#As a good security practice, SonarQuber Server is not advised to run sonar service as a root user, 
# create a new user called sonar and grant sudo access to manage sonar services as follows

1:23:40 ********** java is a prerequisite for sonar
if java is not installed sonarqube cant run 

sonarqube  home dir/opt/sonar



33:00    Sonarqube  has to do with software quality 
sonarqube for code quality analysis.... sonar2 

code quality with sonarqube & sonar cloud 

software testing :before application is deployed we have to do software testing 

34.01
we develop the application, we build the appl and it s deployed to the applictaion servers but before the app is deployed we have to perform software testing


   TYPES OF TESTING that can be performed 

1)UNit testing [Junit ) :this is done to test individual lines , units or components of a code 
2)functional testing: we test how the code is working ( Application is functioning)
3)   41:17  REgression testing
4)performance testing   is it performing as desire 
5)penertration To test if anyone can break into the system  using any username & password
   44.22  *** these are some of the categories that sonarqube is checking for.



Software tesing
UNit testing [Junit )
eg you develop an applictaion which is hello world.java 
helloworld .java = it has 5000 lines of code
How many unit ttest cases should be expected by default ? 
in an ideal situation developers are not only writing the application;which is  "helloworld.java" 
they are also expected to write the "unit test cases"
helloword test.java = 5000 Junit testcases expected 


  ****41:16 ... pdf note on testing

42:30 

REgression testing :  you are building an application, u hv developed v1, v2, v3, v4 is running and u want to develop v5
v4 is running with 1000 lines of codes  
if we add 500 lines to v5, we use 
will check if with the additional components of the code that has been added to the software, is the entire application stil working very well, based on the addition, based on the modification, based on the new version.
Regression testing to check if the entire application is working  well based on the addition to the app
eg
when the users type: "mylandmark.com/join" or "mylandmark.com/payment" is it giving them what they want, is it performing as desired.



performance testing : is it performing as desire 
penertration:    To test if anyone can break into the system  eg can somebody use any username & password and break into our system.


         CODE QUALITY TOOLS

code quality  tools
sonarqube, sonarcloud , resheper, codacy, checkmarks

we have our java projects we are managing in git/github
src codes : app.java
JunitTests cases: appTEst.java         10,000 lines of code
build scripts - pom.xml:                 4,000 unit test cases


   maven   = mvn package 
1) validate    2) compiles   [app.java >>> app.class]     3) testing (run unit testing) pass    4) pacakges will be created

 therfore: there is a quality gate in maven 
however, it runs unit testing on the number of testcase developers
have written but most of the time developers will not write the code as desired thats why we need code quality tool to check, but maven doesnt check if
developers have written the desired number of testcases


Using code quality tool quality tool in the same example above 
 src                  = 10,000l
Junit -Test-Cases     = 4,000L
CODE COVERAGE         = 4,000/10000 * 100 = 40%
Developers have tested ONLY 40% of their job/softwares
This could result to poor quality software developed



             CODE QUALITY BENCHMARK

CodeQuality Benchmarks:
sonarqube/Benchmarking for CodeQuality:
Standards for CodeQuality :
  1. code covergae   = 80% plus                  **** eg, 1000lines of code 
  2. code smells     = less than 5                             standard : 800 Junit -test-cases
  3. bugs            = 0                                        Actual: 900 Junit-test-cases
  4. vulnerabilities = 0  
  5. portability     = high   
  6. duplicate lines = less than 5%  [ functions ]     
 

    

54:50 example of code smell, writing codes without following certain standards could result to code smell
example of hardcoding: 
name=paul 
echo "my name is$name"   ... this code lacks portability bc if u execute this code/run this script u will get "paul"
BUT
using a dynamic script
echo ' WHAT IS YOUR NAME'
 read name    .. *** this variable can take multiple values  (paul, joh, joe etc)
echo "welcome $name"  

**** so if u dnt make your code to be very dynamic it could result to code smell


                                                                                                                                                                                                                                                      

57:00

eg OF code smell is not following the right syntax , writing bad codes with poor syntax, writing codes that are not dynamic , duplicate code or bad code, 
duplication can be avoided by using function




                              COMPARING ACTUAL RESULT AGAINST BENCHMARK

comparing actual results against the benchmark/standards is analysis:
1. How many unit test cases were run?
   How many test cases should have been run? 

2. Is our code readable with ease?   ........ AVoid complex code
    ----> code smells 

3. Is our code portable [ environment independent ]?
portable code means the code is not environment indenpendent 
we can run the code in diff environment like diff environment , port environment & test environment
    -- if not code smells / hard coding 

4. Are there vulnerabilities in the code ?
    ---> if they are then --- 
     eg  password is only 4 characters can result in security breach

Therfore we can set our standard

Benchmark/standards for a quality Software/application:
1. Code coverage should be greater than 85%  
2. Dublicate lines should be less than 5% 
3. There should be no vulnerabilities in the code [pw=1234] 
4. Code smells should be less than 5  


                                              CODE QUALITY

Code Quality expectations:
• Duplicated code  --- Functions
• Coding standards ---  
• Unit tests
• Complex code --- 
• Comments
• Potential Bugs
• Architecture & Design



                  SONARQUBE COMPRISES OF 

SonarQube comprises of:
  1. sonarqube Scanner: 
  2. sonarqube server :   This comprises of 
       Compute engine 
       database - h2 database
       search engine - elasticsearch
       web-server : means we can access sonarqube information on the browser

1:03
from sonaqube scanner, the codes are sent to the sonarqube server, the server has 4 components, 
1)compute engine, that calculates and gives us values
2)search engine; which is elastic search
3) data base; ie a h2 database
4) webserver ; which means we can access sonarqube info on the browswer
this is the architect of sonarqube

 

1:005

Databases: we have relational and non-relational databases
1. mySQL = RDS   = Relational databases
  generally data is structured and stored in tables[rows and columns] format         ******* it uses rows and column
 ie to say we have mySQL = RDS
mySQL is a langague used to qwery  RDS.   :
  SQL = structured qwery langaguage  
 
eg of structured databases
    oracle
    mySQL  - OS
    PostgreSql  - OS
    MSSQL (MicrosoftSQL)
    DB2
    Sybase
    MySQL, Oracle, Microsoft SQL Server, PostgreSQL 


   data is stored ***** using rows and column
This type of structured is used to prepare report if we are collecting structured data from end users

  structured databases   USES ROWS AND columns :
the data is organised, following a specific pattern , where we have serial no, name,  ID numbers
for eg; we want to get endusers informations like ; SN, NAME, ID number
SN    NAME       ID-no
1001  Paul       LT0147   user1
1002  Amaka      LT0155   user2  
1003  Simon      LT0163   user3  
1004  Landmark   LT0171   user4 
1005  Dominion   LT0179   user5
1006  Isaac      LT0187   user6
1007  James      LT0195   user7

 1:09:28 *** Structured data is easy to query

2. noSQL = noRDS = non Relational databases, unstructured data and stopped in JSON format
  user1 = name/tel/address  
  user2 = name/ssn/date of birth  
  user3 = place of birth / profession / tel
   generally data is unstructured and stored in JSON format  

1:12:20  Examples of databases (which we will be seeing later in the course) that are used to manage non Relational database:
    MongoDB ---
    Cassandra
    CouchDB, 
    CouchBase, 
    HBase, 
    Redis, 
    Riak, 

Neo4J are the popular NoSQL databases.

***1:10:40  for eg; we have 10 users trying to accses our env and they enter informatipon like this, how can we get this information?
eg UnStructured data:
  user1:   FirstName=Simon 
  user2:   ID=01245
  user3:   dob=01/01/1980 
  user4:   tel=12457861
  user1:   LastName=Amaka 
  user100: email=100@hotmail.com


Using json format we can get the information like this:
USING Json format to store the users information/data
users{
  user1{
    FirstName: simon 
  }
  user2{
    ID: 01245
  }
  user3{
    dob: 01/01/1980 
  }
}







  VERSIONS OF SONARQUBE WE CAN INSTALL IN OUR ENVIRONMENT

 versions of sonarqube:

enterprise version 
datacenter version   
Free version  Supports :
  Java,  = 30,000 lines 
  JavaScript,
JavaScript,
  C#, 
  TypeScript,
  Kotlin,
  Ruby, Go, Scala, Flex, Python, PHP, HTML, CSS, XML and 
  VB.NET


Home dir: when we ls we see the content of sonarqube home dir
The home dir is where the software is extracted and in my work environment its = /opt/sonarqube, its also where we extract the software
THe sonarqube was downloaded with wget and unzipped to extract the software
the home dir could be diff in the company you are working


Bin dir: binary contains files like sonar.sh to start sonar
conf dir : conf file like sonar properties where we can change anything 


/opt/sonarqube  
SonarQube Home directory = :
What is the sonarqube home directory?
This is where the sonarqube Software is extracted = /opt/sonarqube
wget and unzip 
    /opt/sonarqube  
   /opt/sonar
   /app/sonar

ls
bin:
  binary files / sonar.sh 
  sh sonar.sh [start|status|stop|restart ]  
  sh /opt/sonarqube/bin/linux-x86-64/sonar.sh [start|status|stop|restart] 
  sh /opt/sonarqube/bin/linux-x86-64/sonar.sh status     

conf:  
  sonar.properties
COPYING  
data  
elasticsearch  
extensions  
lib  
logs  
temp  
web





   **1:22   SONAR INSTALLATION
* https://github.com/ceekeh/package-management/tree/master/soarQube-Installation
#As a good security practice, SonarQuber Server is not advised to run sonar service as a root user, 
# create a new user called sonar and grant sudo access to manage sonar services as follows

Installation of sonarqube:
  https://docs.sonarqube.org/latest/requirements/requirements/
  https://www.sonarqube.org/downloads/
https://github.com/LandmakTechnology/package-management/tree/master/soarQube-Installation



must be (sonar sonar) to start and check sonar status
sh/opt/sonarqube/bin/linux - x86-64/sonar.sh start/stop/status/restart
when sonar is restarted in AWS, we must start sonar sonar in CLI and after that 
we must vi pom.xml in maven server and change sonar public again 




 Project for TESLA0045:                  we have an application we are managing for Telsa
======================
https://github.com/LandmakTechnology/maven-web-application           **** this is the github repository

1:32:00
(cd /opt/ , cd sonarqube , in sonar server in CLI , sudo yum install tree -y, when we ls we see the content of sonarqube home dir )


The first step
1. Developers commit/push code to SCM = github   
2. Test + Build using maven   
        ...    therefore; i need my maven server  up and running then  ls and cd/web
mvn clean package


3. CodeQuality analysis with SonarQube  = mvn sonar:sonar   : 
 for us to execute code quality analysis we need to integrate jenkins....... incomplete statement
comparing actual result against the benchmark:
our project has a project file 
   
     vi into pom.xml in the maven server and enter sonarqube server   
     credentials under the properties tag  
    connect to your sonarQube server from the browser: sonar public Ip : 9000
      login_username= admin 
      login_password= admin

  1:38:52    To execute  COde quality analysis = mvn sonar : sonar           *** mvn sonar:sonar  this is done for maven to connect to the sonar
comparing actual results against the benchnark/standards
    mvn sonar:sonar   
         1. goal = Sonar   ie the first sonar is the goal
         2. plugin = sonar   **the second is the pluggin

***** sonar qube public ip and sonarqube portnumber = 9000

  First in sonar we install sonar and ensure its running

***** 1:36:26 
then we go into maven server
in maven, cd maven-web-application
we integrate sonaqube for code quality analysis
***1;40...  so we vi pom.xml, search for "property tag"and insert the public ip of sonar
                                private ip
then also in maven  run; mvn sonar:sonar
we see build is a success
now in sonar we can refresh and see the project
if there are issues in the code we can lick on issues and see the issues and how to get the issues fixed
1;48;06 , when we check our project in sonaqube; the result is a pass

**1.45.15
when your trying to execute code quality report ie code quality analysis, it could result in some error messages like 
http error code 400 errors =client side
400/401/402/403
not authorized , when entering the wrong passwd
please check the properties sonar.login and sonar.paaword.


  *** end for now nad take questions 
 in video2 we will see how to set our benchmark



******************   SONAR2 

56:30
*************our arctifacts are uploaded in nexus where we have repositories therefore before we deploy we make sure it is backedup in the artifactories



7.52
one thing i want us to take note is that when sonarqube is doing a code ananlysis 
what is sonarqube using ?
 while the analysis is going on, through the running analysis log we see; 
"it has quality profiles for java: sonar way"   ... now this is the code that has been written by our developers
  "quality profiles for jsp: sonar way" 
   "quality profiles for xml: sonar way"
so ie; developers wrote codes in java, jsp and xml
meaning the developers wrote code in java, jsp and xml so code quality analysis has been executed



    KEY TERMS OF CODE QUALITY ANALYSIS TO NOTE 

Sonar Report depends on:
1) Rules 
2) Quality profile 
3)  Quality gates



9.16
Quality profiles are collections of rules to apply during an analyis
for each language there is a default Quality profile.

9.45
Rules are setting desired expectations
in sonarqube, we hv some rules that have been set by default




               DIFF PROJECTS HAVE DIFF RULES
Rules are codes that have been defined to identify specific issues 
eg
Rules can identify if theres a bug in the code or code smell or duplicate lines
Rules are setting desired expectations , some rules are created by default and we can create customize rules by creating quality profiles and attach rules to them 




******** To set rules click on filter profiles by (then in set for eg java we can also change for jsp &xml)
then click create
Then for each rule click activate to set severity rule

i created a quality profile called telsa IQ & activated some rules against our project


2) Quality profiles are set of rules that we can use to achieve some specific quality threshold when it comes to quality software using sonar

**** A meeting is held where the diff members of the team will decide and identify the diff rules that should be applied against our projects


QUALITY GATES
with quality gates we can set conditions which means that for the software to be classified as a good software it must pass these condidtions
eg
if our coverage quality is 90% and there are 10written lines of codes, it means developer should test 9lines out of the 10lines
Duplicated lines: if duplicates exceeds 5%, sonarqube will fail the check
if the bug is greater than 2 then theres a problem
unit test success: if the number of test that passes is more than 95% we are ok


26:00   To assign admin priviledges
33:40     To use token instaed of PW

44:40 for code quality there are other tools but for the sonarqube family thers:
sonacloud & sonarqube


with sonarqube you need a server 
sonarqube = Iaas (infrastructure as a server)


with sonarcloud you dont need to configure a server, its like github, no server needed
sonarcloud = its called SaaS (https://does.sonarcloud.io
sonarcloud is an example of a software as service, all you have to do is create an account & start performing static code analysis






  ********************* SUMMARIZED FOR INTERVIEW  ************************
integrate sonarqube for code quality analysis
in the maven server; vi into pom.xml (credentials under the properties tag ) and enter sonarqube server   
      mvn sonar:sonar
    connect to your sonarQube server from the browser: sonar public Ip : 9000


code quality with sonarqube & sonar cloud etc
 in our env we use Sonarqube, sonarqube has to do with software quality 
we develop the application, we build the appl and it is deployed to the applictaion servers but before the app is deployed we have to perform software testing
so we use sonarqube for code quality analysis
 1) validate    2) compiles   [app.java >>> app.class]     3) testing (run unit testing) pass    4) pacakges will be created
therefore; there is a quality gate in maven 
however, it runs unit testing on the number of testcase developers have written but most of the time developers will not write the code as desired thats why we need code quality tool to check, 
also for the software testin, maven doesnt check if developers have written the desired number of testcases and tahst why sonarqube is important as well


Types of testing that can be performed 
1)unit testing  [Junit )  : this is done to test individual components, units or lines of a code
2)functional testing: we test how the code is functioning, how the application is working
performance testing   is it performing as desire 
5)penertration To test if anyone can break into the system  using any username & password
   44.22  *** these are some of the categories that sonarqube is checking for.

  *******CODE QUALITY
Code Quality expectations:
• Duplicated code  ---  avoided using Functions, • Coding standards, • Unit tests, • Complex code, • Comments, • Potential Bugs, • Architecture & Design
Based on our code quality expactions;
with sonarqube we can run some analysis ie comparing actual results against the benchmark/standards is analysis:
1. How many unit test cases were run?
   How many test cases should have been run? 
 COMPARING ACTUAL RESULT AGAINST BENCHMARK

comparing actual results against the benchmark/standards is analysis:
1. How many unit test cases were run?
   How many test cases should have been run? 

2. Is our code readable with ease?   ........ AVoid complex code
    ----> code smells 

3. Is our code portable [ environment independent ]?
portable code means the code is not environment indenpendent 
we can run the code in diff environment like diff environment , port environment & test environment
    -- if not code smells / hard coding 

4. Are there vulnerabilities in the code ?
    ---> if they are then --- 
     eg  password is only 4 characters can result in security breach

Therfore we can set our standard/expectation for our code

Benchmark/standards for a quality Software/application:
1. Code coverage should be greater than 85%  
2. Dublicate lines should be less than 5% 
3. There should be no vulnerabilities in the code [pw=1234] 
4. Code smells should be less than 5  
 KEY TERMS OF CODE QUALITY ANALYSIS TO NOTE 

  *******ignore   ********* example of code smell, writing codes without following certain standards could result to code smell
also hardcoding: ie writing scripts that are not dynamic
 code smell is not following the right syntax , writing bad codes with poor syntax, writing codes that are not dynamic , duplicate code or bad code, 
duplication can be avoided by using function

     

Our Sonar Report depends on:
1) Rules 
2) Quality profile 
3)  Quality gates

9.16
Quality profiles are collections of rules to apply during an analyis
for each language there is a default Quality profile.
 Quality profiles are set of rules that we can use to achieve some specific quality threshold when it comes to quality software using sonar
**** A meeting is held where the diff members of the team will decide and identify the diff rules that should be applied against our projects

9.45
Rules are setting desired expectations
in sonarqube, we hv some rules that have been set by default


                DIFF PROJECTS HAVE DIFF RULES
Rules are codes that have been defined to identify specific issues 
eg
Rules can identify if theres a bug in the code or code smell or duplicate lines
Rules are setting desired expectations , some rules are created by default and we can create customize rules by creating quality profiles and attach rules to them 
QUALITY GATES
with quality gates we can set conditions which means that for the software to be classified as a good software it must pass these condidtions
eg
if our coverage quality is 90% and there are 10written lines of codes, it means developer should test 9lines out of the 10lines
Duplicated lines: if duplicates exceeds 5%, sonarqube will fail the check
if the bug is greater than 2 then theres a problem
unit test success: if the number of test that passes is more than 95% we are ok





************** END FOR INTERVIEW************************




                  SONARQUBE COMPRISES OF /this is the architect of sonarqube

SonarQube comprises of:
  1. sonarqube Scanner: from sonaqube scanner, the codes are sent to the sonarqube server, the server has 4 component
  2. sonarqube server :   This comprises of 
       Compute engine : that calculates and gives us values
       search engine - which is elasticsearch
       web-server : means we can access sonarqube information on the browser
     database - h2 database
 we have relational and non-relational databases
1. mySQL = RDS   = Relational databases
  generally data is structured and stored in tables[rows and columns] format         ******* it uses rows and column
 ie to say we have mySQL = RDS
mySQL is a langague used to qwery  RDS.   :
  SQL = structured qwery langaguage  
 
eg of structured databases
    oracle, mySQL  - OS, PostgreSql  - OS, MSSQL (MicrosoftSQL), DB2, Sybase
    MySQL, Oracle, Microsoft SQL Server, PostgreSQL 

 data is stored ***** using rows and column
This type of structured is used to prepare report if we are collecting structured data from end users

2. noSQL = noRDS = non Relational databases, unstructured data and stopped in JSON format
Using json format we can get the information like this:
USING Json format to store the users information/data
  user1 = name/tel/address  
  user2 = name/ssn/date of birth  
  user3 = place of birth / profession / tel
   generally data is unstructured and stored in JSON format  

1:12:20  Examples of databases (which we will be seeing later in the course) that are used to manage non Relational database:
    MongoDB --, Cassandra, CouchDB, CouchBase, HBase, Redis, Riak, 
Neo4J are the popular NoSQL databases.


Home dir: when we ls we see the content of sonarqube home dir
The home dir is where the software is extracted and in my work environment its = /opt/sonarqube, its also where we extract the software
THe sonarqube was downloaded with wget and unzipped to extract the software

Bin dir: binary contains files like sonar.sh to start sonar
conf dir : conf file like sonar properties where we can change anything 

  
