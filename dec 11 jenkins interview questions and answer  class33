

 
***** linux 1............  1:43:00  the remote host is the ip address of our server

please i cant remember that for now, can we come back to that later

I Didnt print
Sand 
Gateway 
Eks





****meee*********
we use maven for build and tomcat for deployment having integrated it with nginx webserver for loadbalancing & routing traffic from endusers to the appservers 
we bring in sonar for security, then nexus aas a repository for backing up our artifacts and jenkins to automate the end to end process (CI/CD)
Most importantantly or in addition to that; because security is inheerent in our environment we utilize AWS for various levels of security like ........
furtheer more we use docker & kubernetes for .....
and finally Ansible and terrfaorm for ..........


jenkin 7&8
someone is aking we hv nt deployed to tomcat ,, we are going to be deploying containerized app, tomcat was an introduction
  1:12:18 all of these is nt happening in one agent , mvn package will tk place in maven build server, sonar,the code quality analysis will talk to a 3rd party server wich is sonarqube server

2:04:00  we can use jenkins for non java applications and any application as expalined in jenkins shared lib video


AWS1
Oluwafemi James
SRE || DevOps Engineer || Platform Engineer|| 
Cloud Engineer|| Kubernetes Engineer || BSc.




LINUX , scripting, git , maven, tomat/ngnix tomcat, sonar, nexus, jenkins , aws, docker, k8, terraform, ansible, k8/helm 
In our env, we use LINUX OS for file,process,package,security mgt, GIT FOR VERSIONING, MAVEN FOR BUILD, JENKINS automates the end to end process, 
AWS for 




cloud computing, Cloud Service Models/ CSP; CLOUD SERVICE PROVIDERS, ADVANTAGES OF USING THE CLOUD 1:55:00 REQUIREMENTS OF owning a data center



cloud computing is very imp bc COMPANIES ar migrating very quick &fast from on-prem to cloud we'l be looking at hw aws helps us to manage our infrastructure

with CSP (Cloud Service Providers) like aws, GCP and azure we can pay only for used computing Services

userData - This is a script that can run while creating/launching the server  


, we'l be looking at hw aws helps us to manage our infrastructure
-- 1:28:30 .for our application to be accesed by cx,it nids to be hosted on some computer systems& for that to happen we nid an hardware,on the hardware the OS is instaled
we nid a piece of storage for our database & our appl is running, so we nid to create a data center
Datacenter:
   1. Applications [80%]   = 500MB    #### what is very imp to us is the appl, 1:34:05 our appl can only be held if we hv a piece of storage wich is adequate
   2. Database-storage     = 25000MB = 25GB   
   3. OS  -                = 5000MB  = 10GB .. 1:35:329 ubuntu is 4.6GB 
   4. HardWare
    a computer system comes wit a hardware system, an OS, a storage,IF the OS requires 500mb, we nid a disk space that has up to the volume of 500mb

###### hw do we deploy in tomcat, we copy to webapps .. the tomcat server nids to hv sufficient storage for us deploy the appl successfully
   tomcat = cp target/app.war  /opt/tomcat9/webapps/


Amaka Nwosu  wants to b supplying some financial solutions to cx around the world, for her to start dis coy traditioanlly,she has to buy a coy wit the ryt OS&
storage b4 she can start running her application... this is a challenge so we hv cloud solutions
         AmakaTech
           ---->  WE hv cloud solutions, wit cloud services like aws, we can pay only for what we use

with CSP (Cloud Service Providers) like aws, GCP and azure we can pay only for used computing Services.
Cloud Service Providers    - CSP =e.g  AWS / GCP / AZURE / alibaba/ etc.    
the main cloud service providers :AWS - Amazon Web Services , GCP - Google Cloud platform), AZURE Cloud
 Cloud Service Providers - CSP = AWS / GCP / AZURE 
they Provide computing services / resources like servers, network, storage, security, etc. over the internet from their Datacenters   
   pa

with CSP, we can reduce cost by:
  pay-as-you-go 
  pay-as-you-grow  
  pay-as-you-use

on-prem Datacenter:
     data centers, Own and manage by the user/client  .. #if Amaka acquires everytin hersef, that becomes an on-prem infrastructure bt we can hv some of this services provided to us by
    a cloud provider. 1:40 :48


REQUIREMENTS OF owning a data center:
Dedicated  space
ultra fast internet speed (in todays term)
High  bandwidth superfast INTERNET


 understanding cloud computing is very imp bc COMPANIES ar migrating very quick &fast from on-prem to cloud 
Cloud Service Models:
=====================
IaaS -- Infrastructure as a service  :   has components that is managed by the vendors & managed by us 
e.g ec2 instance  - ec2 
  - SonarQube

PaaS--  Platform  as a service  : aws container registry, aws kubernetes solution
  ECR / EKS / ECS / 




AWS 2
AWS Global Infrastructure; ADVANTAGES OF PLACING MY SERVERS IN DIFF AZS, EXAMPLES OF AWS SERVICES, WHAT TO CONSIDER BEFORE CREATING/HOSTING RESOURCES IN AWS & BEFORE CHOOSING A REGION IN AWS, EC2-Basics, EC2 INSTANCE PUURCHASE OPTION, 
INSTALLING WEBSERVER USING USERDATA ie script, INSTALL WEBSERVER, INF ABOUT METADATA:  HOW ARE WE CHARGED FOR EC2.  TRANSFERRING FILES OVER THE INTERNET, VPC


The AWS Cloud spans 102 Availability Zones within 32 geographic regions around the world, 
with announced plans for 12 more Availability Zones and 4 more AWS Regions in Canada,
Malaysia, New Zealand, and Thailand

what is a region? .... Region  are Logical names  =   
Availability ZONES - AZs   = Physical locations comprising of 
                            one or more ISOLATED Datacenters  

 Regions: us-east-1  = N-Virginia, us-east-2  = Ohio, us-west-1  = N. California , us-west-2  is  Oregon 


Regions: us-east-1  = N-Virginia, us-east-2  = Ohio, us-west-1  = N. California,   us-west-2  is  Oregon 

Regions covers: USA, Canada, Americas, Europe, Africa, Asia, Middle East, Australia, 

Can a Lagos based company serve clients around the world with the help AWS ? yes  

in each regon there are diff azs, the azs are engineered to be independent from each other , e.g us east1a is located independently from us east1b

Regions: us-east-1  = N-Virginia, there are 6 azs in this region
  Availability ZONES :  
    us-east-1a --- Arlington
        jenkins-master            9:20 place my jenkins servers in diff az

    us-east-1b --- Fairfax      us-east-1c --- Loudoun 
      jenkins-slave1               jenkins-slave2


11:00 ADVANTAGES OF PLACING MY SERVERS IN DIFF AZS
1) Availability zones - AZs are engineered to be independent from each other
2) A disaster in one cannot/shouldn't affect another AZ.  
   Floods
   earthquake 
   Network failure  
   wildfire


                EXAMPLES OF AWS SERVICES
 ec2 / efs elastic file sys / eks elastic kubernetics serv / ecs elastic container services / iam, identity & access mgt / route53 / elb  


            WHAT TO CONSIDER BEFORE CREATING/HOSTING RESOURCES IN AWS & BEFORE CHOOSING A REGION IN AWS

Regions covers: USA, Canada, Americas, Europe, Africa, Asia, Middle East,   
                Australia, 

Can a Lagos based company serve clients around the world with the help AWS ? yes  
for this to happen, This company will need server resources/services [ec2] from AWS
This company will need AWS container resources/services [eks, ecs, ecr, ] 
NB: Not all aws services are found in all aws regions.


1)Availability: elastic cloud compute [ec2]   Not all aws services are found in all aws regions, so we hv to mk sure its avail in the region b4 we launch it
              elastic kubernetes service = EKS 

2) High Availability:  having multiple servers for your applicaction to avoid application outage
  DEPLOY AN Application server  
   1 application Server  : architecture1  .... you can be a cloud architect, can advice the coy that we cannot hv one app server, so lets hv more than 1 app servers
   4 application Servers : architecture2

hIGH availability can be ACHIEVED BY:
      1. Multiple instances of the servers -- 4 = us-east-1a  
      2. Deploy using Multi AZs = us-east-1a, us-east-1b, us-east-1c, us-east-1f  
      3. Deploy using Multi Regions  = us-east-1, VIRGINIA, us-east-2, OHIO, af-west-1,   
      4. Multi-cloud -- AWS/GCP/AZURE

 Cloud Service Providers = 

3) Latency: -- TIME taken TO ACCESS A SERVER/application 
   us-east-2 = Ohio     --- 200ms to access    1
   us-west-2 = Oregon   --- 100ms to access    2   .. THE best
   af-west-1 = CapeTown  -- 500ms to access    3  

4) cost:                          latency              base on cost  
   us-east-2 = Ohio     --- 200ms to access    1    $4/hr  THE BEST
   us-west-2 = Oregon   --- 100ms to access    2    $8/hr 
   af-west-1 = CapeTown  -- 500ms to access    3    $6/hr 

5) customer Location: IF MY cx AR IN LOndon i will place resources to where the cx are
   Ohio           = us-east-2 = Ohio  
   London         = eu-west-2 = London 

6)Complaince / Regulations []: this cud restrict a coy,, e.g in china , chinese based coys ar adv to only choose datacenters within AS/china,, so u cant choose a dif location
when the govt regulations doesnt permit it

7)Security:
  Mosco /  
     

EC2-Basics
==========
  Basic Computer vs      aws-EC2 :
  OS     ----            AMI (OS + Additional Softwares) 
  Hard Drive             EBS (Elastic Block Store)\
  RAM                    RAM
  CPUs[1, 2, 16 core]    Instance type[t2.mirco, t2.medium]
  Network CARD           IP Addressing 
  Firewall               Security Groups

AMI = amazon machine image 

######                                              EC2 INSTANCE PUURCHASE OPTION, HOW ARE WE CHARGED FOR EC2.
  on-demand instances   = most expensive and very flexible, servers can be created & deleted any time, u pay for services whrn servers ar running
           this is gud for studies bc its d only option that supports for free tier bc u ar always expected to terminate ur instabce               studies 

  Reserved instances    =  ,, #####read note, u reserve inatance & u dnt use it u stil pay 4 it, cx can ask for instances to be reserved
this is gud for deploying to prodution    production 
  
spot instances - Bids =   AWS,, will provide based on avail instances so cx wil place a bid after AWS has placed the offer price
this is gud for testing, like high voltage application

AMI = amazon machine image 

                                       
                                                       HOW ARE WE CHARGED FOR EC2.
53:00 instance type is the power of the instance, the specks

e.g  Laptop1: 24 CORES / i9 / 4TB SSD / RAM 128GB  = $9,000 
  Laptop2: 2 CORES / i3 / 1TB HDD   / 8GB       = $700 

AMI = amazon machine image 
      comprises of the OS and other softwares and settings  
  Linux [redhat / centOS / ubuntu / amazonLinux2 / Debian 11 /etc
          Amazon Linux 2 / ]  
  WINDOWS

58:00####things to consider b4 choosing an AMI, THERE ar 3option to choose from
what is in the:
1)Community AMIs: comprises mostly the OS only  
                Generally free 

2)Marketplace AMIs: comprises of the OS and other Licence Softwares 
   splunk -- Amazon Linux 2 + splunk Softwares    
   openvpn --- Ubuntu 22.04.1 LTS + 
               Ubuntu 18 LTS

10GB/S   = 10,000MB/S  

3) my AMI = Golden AMIs  :
         
1:01:42 splunk enterprise is used to monitor our servers

1:07:14 t3.2xlarge up to 5 gitabit per sec for band width i.e the internet speed
   vCPUs          RAM      Bandwidth speed  
  c5.metal  96     x86_64  192G  - - 25 Gigabit/sec  
  t2.micro  1      x86_64  1G    - - Low to Moderate

security group is firewALL in front of the server
james an admin/engineer wil access/launch the server by ssh on port 22, while 
paul nids to acces some web content on the server by using http on port 80
for any of them to access this server on our firewall we hv to open http 80 and ssh22  

storage is called ebs volume, after security groups, we configure stored
the speed for hdd is 10 times slowervthan ssd
1:19:25  for volume type, magnetic is like a floppy disk wich use to be used many yrs ago, we dnt nid it,,, so we go for general purpose ssd .. gp3
then launch the instance


INF ABOUT METADATA:  
Metadata: Data about data/  data about the instance
- id         = i-08b0ba39aca738105, privateIP  = 172.31.27.50, publicIP   = 54.187.238.209, DNS-private= ip-172-31-27-50.us-west-2.compute.internal



When we stop a server the private-IP/DNS address cannot changed at restart 
When we stop a server the public-IP address will changed at restart ,,bc the ip address is released once we stop the server
  use an elasticIP to maintain a static public-IP even after restart 


########Ticket044 = Create a and install a webserver in aws...... webapp can be used to serve some web content
with the help of ec2 intance we are able to create servers and connect to them


userData - This is a script that can run while creating/launching the server  




  in answer someones' question as seen below **********   TRANSFERRING FILES OVER THE INTERNET      
therfore i can transfer files over the internet that is found in a particlar server, when a file is found in my server it is diff for individuals to be ble to access the file 
we hv http & https 
 31.00 after installing webserver were endusers able to acces my text  .. yes ( on the internet, using the ip address we could see "Devops is good )

HTTP = hyper text transfer protocol      i can transfer files over the internet in the webserver in CLI so long as the file is in  ( i bliv my server)    
34:00  i can transfer files over the internet in the webserver in CLI, E.G redirecting contents frm one file to another, or changing or adding to my web content
HTTPS = hyper text transfer protocol Secured   = listens on port 443  


the diff btw the http & the htp secured protocol 

http://35.92.51.2/    
https://mylandmarktech.com/      
              http           https  
Data          insecured      secured  ... secured transmission of data
Transfer      clear text,  data is transfferred in clear text     encrypted  .... WHEN IT GETS to the user its is decrypted
certificate   not required   required    
portNumber    80             443  

password:  admin123,     */cxx5%%$#@!fdytdcxsfdsyfdiuoiodofsdcp  but paswd can be easily hacked ( during transmission)

   

**********************       20.36, very soon we will be doing virtual private cloud (vpc)

lets assume we hv THIS VPC called tesla vpc 
####21:00  in AWS we hv tesla vpc its a larger netwrk with 2 smaller networks (so we call this subnetworks)
sutnet1 is public  (with a webserver1) and subnet2 is private with an (app server1).... both in the same ntwrk,, for both to communicate with each oda they can use the
private ntwrk address
*26.00    ..... we hv another engr chidi in a diff ntwrk, he can access the webserver wit the webser pub ip
also if we hv another webserver2 & appserver in another netwrk, for them to communicate with appser1 & appser2,, they wil use the public ntwrk address



****35.00 we wil see the diff classif of aws RES
we hv resources that ar availa zone specific ..ie their scope is within an availa zone 
we also hv resources that their scope is regional and resources that their scope is global





AWS3

AWS STORAGE SOLUTION (THE DIFF TYPES PROVIDED ebs/efs/S3), LIST BLOCK COMMAND(root file system) Create/attached & mount ebs, creating my AMI(amazon machine image) =GOLDEN AMIS, CREATING A LIFE CYCLE FOR MY INSTANCE,
CREATE A lifE cycle TO CREATE SNAPSHOTS FOR MY JENKINS INSTANCE, EFS; file storage examples / SHARED Storage, LAMBA FUNCTIONS, DISASTER RECOVERY


There are 3 diff storage solutions; 

4.45  storage solutions:
  ebs volume  = Elasticblock store
       Required mounting    
       
  efs  volume =  Elastic file storage
       Required mounting 
       sudo yum install nfs-utils
AWS4; ********* #21:24 u nid to be authenticated/permited to write data , port 2049 must be open to write data, if port is nt open , we cant write data
when efs is created we hv to make sure we modify the security grp to permit data to be written and in all the client server we hv to open nfs port 2049

     
  s3 bucket   = object storage 


EBS
When a server is created, ders a piece of storage attached to it, wich is mounted on the server n its called ebs , block store n the only advantage is that the ebs is elastic, so we hv an elastic block store
 therefore if you are launching webserver2 we need this bolck storage
when we launched this webserver2 for eg, we hv a public ip address for eg , most likely its aredhat9 os, it means that this ebs is going to bbe mounted among others within a root file system., 
7.20; heres a mount point on our server
the block storage is unique, bc the ebs on webserver1 cannot be transferrd to webser2 bc they ar blocked/tied to each of the servers   

11.13,   if need be this ebs1, root file system, now this is 14G, can i decide to create another mount point? mayb i want to create anoda mount point point /app , 
yes i can create a mount mount, i can create anoda block storage here



 Root [/] directory has other sub-directories  
what are some of the sub directories we saw in the root dir when we did linux
bc we are mounting on this root file system
we have; /bin,  /home,  /etc/, /var,  /opt / ... this is a root file system
so we are creating a mount point 
for eg, i hv the ticket below 


Ticket0048:
  Create, attached & mount 5G to the /tesla directory    (assume we hv a project for tesla)
20.40  CAan we decide to have  a seperate dir , lets assume this ticket has 2types
  Create, attached & mount 7G to the /var/lib/jenkins directory   (/var/lib/jenkins is the home dir of jenkins and i can decide to create a mount point for myself)


EFS
efs : file storgae 
Amazon Elastic File System (Amazon EFS) provides a simple,
 scalable, elastic file system for general purpose 
 workloads for use with AWS Cloud services and on-premises resources.
  https://youtu.be/AvgAozsfCrY     ... to get some direct inform from aws talking abt efs

efs  volume = file storage / SHARED Storage.. can be shared by one or more srvers or devices
     Requires mounting & we can use a software like netwrk file system
     sudo yum install nfs-utils 
       sudo mount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,noresvport fs-0027f3e4b8f8187ee.efs.us-west-2.amazonaws.com:/ efs



exmaples of file storage 
google drive-has a file storage of 400G = legah@gmail.com  
in the drive , i have files: documents, pictures, videos 
mounted on: phones, tablets, computers  
after it is mounted, so all i nid to do is login to my email then i can access the files.... therefore it can be called a shared storage
we can snap pictures with our phone and acces the pictures on several devices due to shared directory& its possible due to elastic file system

NFS = Network file system(traditionally)  = self managed   
EFS = Elastic File system  = managed by AWS , therfore u hv more time to focus on ur applications
so nowadays managed solutions is what is driving many companies


*****************************
AWS4.., efs is also/can also be called "nfs" managed by aws called efs ***19.17
efs is a managed system bt if u dnt wnt to use efs we can also use another software system called nfs,, nfs is manged by aws  
efs &nfs are performing the same task
18:14  nfs managed by ourselves/self managed is not scalable
    (when we create an nfs server by our selves thats self-managd but when aws manages it for us its efs)



THE only diff btw EFS & NFS is , now lets assume that we hv 3dbase servers
  if we want data to persisst 
12:56 if we wnt our data to sychronizse in our 3 databases, if we wnt the data inputed by endusers to syn in all our 3db server, we can instal another server called an  
nfs server, inside it i wil instal nfs software, then in all 3databases il v nfs client installed. then ill create a mount point caled e.g/data, il mk the mount point to be 
shared to mk data to syn.. ie ill create the same mount point/dir in all 3db servers.... once its done, its my responsibility to ensure that the nfs server is up&running. so 
once data comes into any of the servers, it syn in the other servers as well. i am the one managing the nfs servers ,, bt if the nfs server goes down data wont syn any more 
this is a limited solution and is used by most coy oovertime... also if the data storage size for our mount point is 20GB,its nt scalable bc the 20GB limits our data storage 
size data,,, these are drawbacks of this system....this whole structure is self managed, it is can be called iaas , we hv see saas.,paas

18:14  nfs managed by ourselves/self managed is not scalable

18:58 but with nfs it provides paas... the structure is no longer managed by us,it is a manage platform the nfs is then replaced by efs & so we dnt need servers or masters
we only nid to cretae our efs, we dnt bother abt the mount point for the efs, bc aws in the backend ar doing the mounting for us, we  also dnt nis to bother abt the storage 
size bc it can start from 0 and it is growing, it is higly scalable, if more data is needed it increases, it increases base on our nid to inifinity

********* #21:24 u nid to be authenticated/permited to write data , port 2049 must be open to write data, if port is nt open , we cant write data
when efs is created we hv to make sure we modify the security grp to permit data to be written and in all the client server we hv to open nfs port 2049

  storage  solutions:
   1) - Elastic Block Store       ebs   = block storage   
  2)  - Elastic File system EFS / NFS= file storage
    - nfs port = 2049  

  ebs and efs required mounting   but s3 doesnt nid mounting, we use s3 for options e.g log files, images,videos
##28:00 in ebs files cannot jst become accessible online bt wit s3 i store files and its immediately accseesible by anyone around the world

when efs if created a security group is attached to it , we ar going to modify that secyrity to permit data to be written & in all the clients servers we v to open port 2049
*************************


  LAMBA FUNCTION
but the interview question is what hv you done when it comes to AWS services, thers a service in aws called lamba
Lambda functions:
=================  
  If we have upto  75% volume usage increase vol by 20%   
  
in my envi in one of my projects, i was able to use the lamba function, which was written to expand my project by 20% whenevr usage is 75% 
### 1:54so if  df -h / 100G/75G  ie avail 100 and used 75, increase by 20% --  so we then hv 120G
so we can write a lamba function to achieve this process

DIASTER RECOVERY
we can also  write a lamba function , lamba function has what is called diasaster recover
if u work for landmark and we hv aws account1, & aws account2. in account1 we hv a database servers running ,  for account 2 (diaster recovery account, for our database servers backup)
because diaster can occur , eg if someelse is able to access d email&paswd & log into aws wit root access, thers a possiblity of a disaster bc dats a serious issue bc they wil hv 
access to all my servers bt wit account 1 & account 2, our disaster recovery is accont 2, wit our database serververs running in account 1, we back the databases in accout2
by creating a snapshot lifecycle policy using Lambda





AWS4
BROAD CLASSIFICATION OF AWS RESOURCES, s3 buckets/STEPS TO CREATE S3 BUCKET, IMPORTANT TO TAKE NOTE OF IN S3; Permissions/POLICIES,
AWS ACCOUNT:Global resources  
Glacier; this is used to store archival data e.g zip files, tag file, mayb data that is no longer accessed like non critical data e.g tax docs ,, we can store them under glacier/deep
glacier


1) compute
  in compute service we hv; server & serverless
   for server; we have "ec2 instances, ie your computer in the cloud, meaning that aws is providing server resources
   serverless; Lambda(run code without servers) / Beanstack / farget profile
                 Container( ECS ie elastic container service/EKS ie k8 service)
  2) storage ; EBS/ EFS/ S3
  3) databases 
  4)networking 
  5)data anylytics 
we use aws services based on the needs of the company ,coy wil use asw services based on task they ar trying to accomplish


*********meeeeeeeeee ****we continue with s3 from video3


 S3 (Simple Storage Service):
*** 27.27... IF YOU CREATE FILES AND and store it in EFS/EBS, the files cannot just become accessible online  but with s3, i can store a file and its immediately accesible by anybody around the world
so its a very serious solution that most companies are now using it to achieve a lot, and its very good for business
meaning that by the end of this course you can use s3 to generate some income as well.



  object storage 
Highly Available, Redundant. 
Basically data loss is not possible bc
aws guarantess (99.999999999% durability, 99.9  uptime SLA)
29.20 SLA = in Service Level Agreement , aws guarantees 99.99% availability  of your data.. for all aws services, ders 99.9 assurance in terms of availabilty & security 






AWS5
to refresh my mind*****from tomcat1&2
WHAT IS WEBSERVER?    eg  nginx , apache 
A webserver is a program that uses HTTP (Hypertext Transfer Protocol) protocol to serve web content (HTML and static content) to users.
                                                                          static content & images 
Examples;
Apache HTTP server
Nginx (pronounced engine X) 
haProxy
IBM HTTP server (IHS)
Oracle iplanet web server
Internet information Server (IIS)
*******************************************************



 VPC, SUBNET/ CIDR BLOCK/ ADDRESSES, S3 BUCKET CANT BE CREATED IN SUBNET, Internet Gateway (IGW),ROUTE TABLES, NAT GATEWAY, NACL, LAUNCH JUMPSERVER, LAUNCH DBSERVER, FOR SECURITY CONNECT TO THE APP/DB SERVERS VIA THE JUMPSRVER,
LAUNCH WEBSERVER(install ngnix) 
 

when i practice ill hv to tk note of the connection btw the jumpserver & the webserver& the db/app servers (like why the diff subnets & which subnet has the IGW attached to it)
*** 1.04.44, in the diagram i see the jumpserver & the webserver in "subnet public us west-2a &  the dbserver & appserver in  "subnet2 private us-west-2b



VPC
frm pg 80,    virtual private cloud

vpc is my isolated ntwrk within aws that i can control
subnets are created inside our vpc
am able to create an instance e.g a web sever in my subnet 
vpc is a regional service in aws
i can create my subnet in us west-2a  avai zone 
subnet is an avail zone resource
vpc ar global reource
its nt advisable to launch all my subnets in the same avail zones
 i needed a vpc so it can enable me to create other subnets wher i can place my resources

when i hv a vpc i hv to create a cyber block
we wnt to det hw many subnets can a vpc hv
when we created our resources wit aws it came wit a default vpc created by aws
so we hv:
aws default vpc created by aws .. its nt adviceable to launch my servers in the default
17:20 aws custom vpcs created by the user.. this has more security and more contrl over my resources
so far we hv been using default vpc, the vpc we are creating wil be a regional service


in aws we have:
1 global resources
2 regional resource
3 avail zones resource 
subnets

 AWS Regions: AZs  each region has avail zones

AWS ACCOUNT:
1. Global resources    
2. Regional  resources
     vpcs---
        aws default vpcs created by AWS 
          ec2 instances [jumpserver, appServer]
        aws CUSTOM vpcs created by the user   
          [secured and gives users more controls]  
          ec2 instances [jumpserver, appServer]    

3. Availability zones resources  
      subnets  

  AWS Regions: AZs 
    us-east-1 =6 [ us-east-1a, us-east-1b, ... us-east-1f  ]  
    us-east-2 =3, us-west-1 =3, us-west-2 =3





 SUBNET/ CIDR BLOCK/ ADDRESSES (I bliv thats like the private/public ip)

###pg 80 Subnets -200 user-defined subnets up to /16, a vpc can hv up to 200 user define subnet
the max no. of addresses a vpc is able to hv
VPC -User-defined address space up to /16 (65,536 addresses)

27:56 ###pg 83 what deters the no. of resources that can be placed within each vpc is the cidr block / the no. of addresses  a vpc can hold 

Create a VPC for paypal client with the capacity of 200 resources
29:47
Ticket0011:
  Create a VPC for paypal client with the 200 addresses   
  cidr block: has a preface wich can range from  0 - 32 

Ticket0011:
  Create a VPC for paypal client with 200 addresses in 2 subnets  


S3 BUCKET CANT BE CREATED IN SUBNET (Because its a regional service, i can create it inside my VPC)
1:03:22 my s3 bucket cannot be be created in a subnet, e.ginside us east2a subnet ..bc its a regional service whose name must be globally unique
i can create it in the us region inside my vpc e.g us east,us west   ***me***but not inside the subnet, remember subnets are created inside the vpc
****meeee***** its like the s3 can be created inside the compound but not inside the house/rooms



**online***   IGW & NAT GATEWAY
In AWS, both Internet Gateway (IGW) and NAT Gateway (NGW) are used to enable communication between instances in a Virtual Private Cloud (VPC) and external networks,
but they serve different purposes and have distinct functionalities

An Internet Gateway is a horizontally scaled, redundant, and highly available VPC component that allows resources within a VPC to communicate with the internet. 
It acts as a bridge between the VPC and the internet, enabling bidirectional communication. An IGW is essential for instances in a public subnet to access the internet and for the internet to access those instances.
The IGW translates private IP addresses within the VPC to public IP addresses.

INTERNET GATEWAY; to ensure communication btw my jumpserver & my webserver or webserver & appserver 
1:04:for e.g, if i v app server1 and app server2, to ensure comunication btw the servers, i can create a route table, wich detr hw service is routed from one subnet to d oda
 inside our vpc we nid internet gateway  it will allow internet to flow into the vpc & it wil allow exteral traffic so if we wnt to acess resourcs out of our vpc, out of our,
netwrk , we nid to hv internet , using IGW , ders a kind of internet gateway, it is associated wit our vpc.


ROUTE TABLES
1:07:00 inside the vpc we'l create route tables, route table1 for the private subnet to support local traffic within my vpc, then route table2, i hv a public subnet 
wich is wher i place resources wich can be acessed externaly & the route table2 is permitting traffic frm anywher . ie 0.0.0/0, both local& traffic frm the internet..


NAT GATEWAY
**Online**
A NAT Gateway is a Network Address Translation (NAT) service that enables instances in a private subnet to connect to the internet or other AWS services while preventing the internet from initiating connections with those instances. 
It translates the private IP addresses of instances within a private subnet to public IP addresses, allowing outbound communication
1:34:00 if my private app server is trying to access data online e.g ping google.com, il modify route table1, create a NAT gateway  to permit oneway internet traffic,therefore
the app server can access internet externally, i decide that we can recieve traffic frm the internet but can only happen frm the nAT gateway.
 the NAT will be created in the public subnet wich hv internet access,, from der, the private subnet is permitted to access internet via the NAT gateway


NACL 
***online
A Network Access Control List (NACL) is a security feature provided by Amazon Web Services (AWS) that acts as a virtual firewall for controlling inbound and outbound traffic at the subnet level within a Virtual Private Cloud (VPC). 
NACLs provide an additional layer of security to your VPC by allowing or denying specific traffic based on defined rules.
1:12:24 vpc has some firewall ,2 types of firewall, the first one is the firewall that stands infront of the subnet, like a gateman, called netwk acess control list nACL... 
in naCL, we can create some rule e.g open port80 for inbound rules &for outbound open port80 aswell, on my NACL, trafic frm enduser can get to my subnet
for  trafic to get to the webserver ,in front of my webserver thers another layer of security ie security group (this is firewall), but lets say i also hv port 443 open in my NACL, traffic still cant get to the webserver 
therfore i also have to open port80 , 443 in the webserver security grp
****** in  all we hv 2 security parameter
the 1st is the router for routing, wich permits traffic to be routed to the subnet bc if thers no route table permiting routing the traffic wont happen
the 2nd is the firewall wich has 2layers of security,, security at the subnet level & security at the server level
 *****mee** therfore; NACL has 2 security types or parameter ( routing table & firewall) & the firewall has 2layers (one for the subnet & one for the webserver)



LAUNCH JUMPSERVER

1:55:00 launch jumpserver- create instance- name- linux-micro-create key-edit ntwrk settings: select the vpc created:select public sn, d server nids internet-
auto assigng pub ip:enable-security grp to alow ssh frm my ip or anywher &ssh custom 10.o.o/24, alowing ssh trafic frm within my vpc
so dat servers in my vpc can communic, instances can communi wit each oda via ssh- launch ... we opened http 80 for nginx

1:58:50 the private ip  10.0.0.244 is deter by my cyber block which is 10.0.0.0/25 



LAUNCH DBSERVER
launch dbserver -name-t2 micro-ntwrk:select vpc created:privatesn-AUTO ASSign:diassble- SG - ssh tcp22, cutom:10.0.0/24 to alow ntwk witin my vpc-launch 
to access dbserver i must connect to my jumpsevre before i can access the dbsever 



FOR SECURITY CONNECTING TO THE APP/DB SERVERS VIA THE JUMPSRVER
 2:00 security is inherent in our environment , WE DNT ALLOW DIRECT acces in our db server, if u wnt to acces it u v to go tru our 
jump sevrer. traffic goes to the jummpsever bc it has a security grp dat is permitting the trafic, it allows trafic on port22 so  in d
 SG 22 is open for members of the team & my vpc 10.0.0.0/24,i.e my ip. so my ip & port22 ar d two access  
2:02:13 . security grp in frnt of the db server is only local so u can only access db server via the jumpsevr, the jumpserver acts as 
the entry point when it comes to ssh access,  frm d jump server u can access the app/ db servers,so any server in the vpc can be accessed
via the jump server. does d seceurity grp in my db sever permit trafic frm the jumpserver. if am outside the ntwrk of the vpc,to access
the jumpsever i nid the publicip of the jumpserver.
2;05:00 to access my jumpserver,ssh jumpservr in mobaxterm.
2:11:50 we can also aces the jumpserver wit the private ip if we are inside the vpc,e.g i can ssh to the jumpsevre frm my app server if my firewall permits it&dat is local 
access, bc they ar all resources witin my vpc



2:14:00 to connect to my dbserver, inside the jumpserver in mobax, vi dbkey i.e create a file&paste the dbkey, if i ll ,can see the key has read&write access so i v 
to chmod 400 dbkey to change it to read only .. then when i run ssh -i awskey33.pem ec2-user@10.0.0.54 ...v been able to ssh frm my jumpsevr to my dbserver
2:16:10 frm d dbserver when i ping google.com, it doesnt allow but when i ssh into my jumpserver again in mobx i get a response when i ping google.com
for my dbserver to be able to commu with google we hv to create a NAT gateway
2:18:50 create NAT GATEway - vpc- NATgateway- name-publicSN-connectivity:public- click allocate elastic- create
we go back to the private route table -i wnt my private subnet to access internet, so via the NAT one way internet traffic -edit routes-add route:0.0.0/0/NATgateway:select
the NATgateway that was just created- create
so my private subnet now has internet traffic via the NATgateway & my dbserver is able to access internet via the NAT gateway.



LAUNCH WEBSERVER
2:25:00 
OUR WEBSERVER is found the public subnet,we hv 2layers of security in front of the webserver, the 1st is NACl.. ntwk acess contl list wich wil control the whole ntwrk, 2nd 
layer of security is the secrutity grp ,, when end user traffic gets to the webserver running in my public subnet, it means the req port has been open , so in my NACL
inbound rule il open: rule1 port80, port443 for http&https respectively, in my Sg il ALSO OPEN PORT80 &443. so traffic comes to my webserver bc webser is listenig on those
port number, port80&443... frm here, my appserver runs in private subnet &also my dbserver
2:28:42 also for my appsevr i hv 2layer of security, one in front linking frm the webservr & one behind linking the dbserver

2:29:18 launch webserver - linux-micro- select VPC created- publicSN-auto:enable- SG:ssh tcp22/custom myip & ssh tcp22 custom 10.0.0.0/24 &ssh orhttp tcp 80 bc users can 
cm frm anywher &https 443 frm anywher- launch  ......correction.... publicSN...... not privateSN
since it is within my netwrk , i ssh with my private ip, i use my prive bc i wnt to ssh bt if i wanted endusers to access the webserver, il give them public..

users access our webseevr via ---->http/80, https/443 webserver [13.59.100.138]    
  admin ---->ssh/22 .. can use either of private or public.. he can use both 

2:38:25 our webserver is running in the public subnet which has route to the internet via the internet gateway
i think its bettr to use the same key for all the jump,db,&webserver so that  no nid to chmod 400 multiple times,, if i use the same key, once i chmod once for dbserver,
i dnt nid to chmod again when i ssh the webserver





AWS6
HOW TO ESTABLISH VPC PEERING, MODIFY THE ROUTE TABLE, CREATE & DEPLOY IN SANDBOX/TEST SERVER


HOW TO ESTABLISH VPC PEERING, 
this can be achieved in the same region and across regions 
23:25 

CHECK tELEGRAM FOR steps in the handout ... aws vpc27 pdf
Step 1)Create 2 VPCs - VPC-A and VPC-B with non-overlapping CIDR range
e.g of overlapping, is when the 2diff vpcs both v severs with the same ip address as illustated below.. its nt gud when they overlap bc when i ping the ip adress, the 
broadcast wont know if its searching for appserver1 or appserver2 
VPC-1 - 10.0.0.0/16......... cIDR blocks 
   appServer1 [ 10.0.0.66 ]...... ip address
VPC-2 - 10.0.0.0/24  ...... CIDR block 
   webServer1 [ 10.0.0.66 ]..... ip address

##### e.g2, without overlapping
vpc peering connection
======================
VPC-1 - 10.0.0.0/24
   appServer1 [ 10.0.0.66 ]
VPC-2 - 10.10.0.0/24  
   webServer1 [ 10.10.0.66 ]



####51:15 ... SANDBOX .. 
A sandbox is a test server , the server can be used for testing...
the envirn wher we perfom testing is called sandbox server, we first deploy in the sandbox if it wrks well then we deploy in the right environ
.yes since we hv done the peer connection, we can connect to the sandbox from the jumpserver privately, we can est a private connecion.

****** ONLINE ...A sandbox is a secure, isolated testing environment used in cybersecurity and software development
to safely run and analyze untrusted or suspicious applications, files, or code without risking harm to the host system


 CREATE & DEPLOY IN SANDBOX/TEST SERVER


Ticket0013
 ===========
Deploy applications to production for paypal client.   
e.g, i hv 
  1. 8 production appServers with [ 192G RAM / 900GB SSD ] each

For best performance ensure that adequate testing is done  
  2. first, deploy in your sandbox/test server



1. By default, from the jumpserver we can ssh 
   into the sandbox using the publicIP    

1. from the jumpserver we can ssh into the sandbox using the privateIP 
   via vpc peering with route tables modified accordingly






AWS 7/8
Elastic Load Balancers& AUTO SCALLING, (NLB)NETWRK LOAD BALANCER *** Meee (LAYER 4 support), (ALB)APPLICATION LOAD BALANCER,GATEWAY LOADBANCER
tomcat script didnt install the tomcat, engr francis helped me resolve it 


to refresh my mind*****from tomcat1&2

WHAT IS AN APPLICATION SERVER?

An application server is a container upon which you can build and expose business logic and processes to client applications through various protocols including HTTP in 
a n-tier architect

                        Examples of servers
Apache Tomcat - Apache
Jboss/wildfly - Redhat
WEblogic - Oracle 
websphere Application Server - IBM 
Websphere liberty profile - IBM
Galssfish
EXAMPLE OF WEBSERVERS/LB SOFTWARE
nginx
httpd
*********************************************************************************


After installing, we v to configure & the configuration has certain parametrs
webserver has listerners and backend 
it has listeners to traffic using http 80 protocol or https  443,  from the app users and routes traffic to the  backend  app via their ip address 10.0.0.7 and the server
port number e.g 8080 =10.0.0.7:8080but the webserver is a self managed solution & we can hv a situation where we hv backup webservers to cover up when webserver1 is down
but all the configuration constitute a very tidious job

so we can go with a managed service ie paaS... AWS has provided us a manged srvice 
WE JUST CREATE our elb ... then aws decides the kind of software to install .. whether ngnix, https, they are incharge of that,, 
in the background, aws will create 2webservers in 2aZs for availability, so u dnt bother whether the server wil fail or not
so ur tassk is jst to create/config ur listeners/target groups
thats whAT elb IS ALL ABOUT

23:37 ... 1)THERS ALSO NTWRK LOAD BALANCER
it deals with source and destination, &when it comes to d target grp dey ar created using TCp id or protocol & a trget grp can v up..
to 1000 targets and we will do all the config ..tcp= source &destination..video 8a (1:11.. d protocol here that it suport, the listener is tcp got to do wit source& destinatn 
this falls under layer4support..... ntwrk lb is faster than ALB BC NTwrk is source to destination bt for ALB when it receives a trafic it has to filters the tarfic to knw the
the right target to route the trafic to .... also it has multiple target grps wjile ntwrk has one target grp... ntwrk LB ia faster bc its routed on layer4 of the osi model &
its the transport layer dedicated for transport so by default for transmissn data layer4 is super fast
layer7 the application layer, route trafic base on content of the trafic.


24:25.... 2)  thers also application load balancer(AIB)
IT will use the http/https protocol,, in dis case , we can v multiple target groups/ diff target grps
the applications are grouped with the help of a target grp
the AIB falls under layer7 support.

3) thers also gateway LB , a new option which AWS now hv



