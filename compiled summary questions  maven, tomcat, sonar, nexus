Mobaxterm is our ssh client

MY PERSONAL QUESTIONS

can we run the scp command in a server that has any software installed in it ?  mee yeee


whats the diff btw   "su - landmark" and "sudo su - ec2-user  , we normally cal it to change shell when we are doing software installation ... ?/???
 *** so if am using diff keys for both maven and tomcat, 1) do i need to create a file for the key in both servers and in which of the servers do i run chmod 400
also, 2) if i am using diff keys , do i need to create a file for tomcat key in tomcat server and after i create a file for the tomcat key in maven server do i run chmod for the tomcat key in both servers?


*** what are tthe diff ways to connct to mabxterm?
1) i know of connecting through local terminal ie open a new tab and (ssh -i "yes.pem" ec2-user@ec2-18-223-16-218.us-east-2.compute.amazonaws.com)
is this the same as connecting using shell?
2) connecting usng remote hostname ie open a new section  and inputing the remote hostname ie ip adress and username and key 
 is ther any other way? 


1) how is troubleshooting done?
Does each software have a diff debugging/ts route or method?

why is it red? 
WHAT IS UNPACKING
/opt/tomcat9/webapps/
when u deploy it copies the war file into the webapps dir and unpack it
unpack means eg when we copied the file we copied maven-web-app but when it goes to 'webapp dir',its extracting, & we see /app & app.war (app.war is red)why?
so when u do deployment u are copying this war file into the webapps dir and when its gets ther its automatically extracted which means its unpacked. 


2) Confirm frm my notes if i created the file thats contains Agile


maven1: 2;12:20
why is it called securing the maven local repo??
we created the custom maven repo incase the local repo is deleted, i checked; the package is not backe dup in both repo,based on the configurtaion we did in settings.xml, the package is either backed up in the maven repo OR the custom repo
therefore; if the packages wont be both repositories, how is creating a custom repo meant to secure the local repo ... does it mean that the custom maven repo cannot be deleted??
MAVEN2; WHEN WE RUN "maven install" IT BACKS UP THE Packages in the repo  *** either in the .m2 maven local repo OR the custom maven repo) 
i checked  the custom repo, the package was in it; ls /home/ec2-user/.mlr/com/ 
but it was not in  ls /home/ec2-user/.m2/com/

*********************************************************************************************************


******************    by default user's can ONLY connect to aws ec2 linux servers using ssh-private-Key




 TO check if my server is listening OR to get my ipaddress 
curl ifconfig.io
curl ifconfig.me



   INTERVIEW QUESTIONS
IQ: Explain you experience in open source technologies?
      1. Maven 
      2. Linux OS  

WHAT KIND OF PROJECT ARE YOU SUPPORTING IN YOUR ENVIRONMENT?
anS: we suppport java based projects or projects written in java programming language, however; we also support a few.NET, pythn and nodejs projects
we support apps written in java, nodejs by developers java, .NET, nodejs is a programming language


IQ) WHAT are the diffERENT BUILD TOOLS FOR EACH OF THE PROGRAMMING  LANGUAGE

for java projects the build tools
you can build using >>> MAVEN /ANT/CRADDLE

Net: THESE are the tools that will be used to convey the raw code written in .Net to deployable packages
NANt/MSBuild

JAVA SCRIPT:
Gulp/Grunt  

python:
Py Builder

Ruby:
Rake

NodeJs:
npm



IQ) WHAT IS EXPECTED FORM DEVELOPERS  ???   (When they have a project)
project main composition:
we have established that when developers are writing code 3things are involved
1)source
2) unit - test- cases
3) build scripts 


IQ) ****UNIT TESTING
the process of writing and running unit-tests-cases is called : Unit testing

 
IQ) ***TO AUTOMATE TESTING, WE ARE GOIN TO ADVICE DEVELOPERS 
TO integrate selenium in their environment such that these unit test cases can be easily written and run


IQ) ***   WHAT IS THE DIFFERENCE BTW THE 2 FILES (hello.java & hello.class)
  hello.java ---> Human readable file  
  hello.class --> machine[JVM] readable file  [binary file = 012310123345] 
once you compile a java code like javac hello.java, the result will be - hello.class

JVM only read binary files 
jvm = Java Virtual Machine 


IQ) 2) *** Java is a pre-requisite for maven to run 
    JRE --> JAVA RUNTIME ENVIRONMENT
    JDK --> JAVA DEVELOPMENT KIT 1.8+
            JVM will also be installed      (once java is installed, this installs automatically)

so when developers push the code, we need maven ie our build server to clone the code 
therfore the git plugging has to be installed for us to be able to run git commands 


IQ: Create Security Group and open Required ports.22 ..etc


IQ: What is MHD ==  
The maven home directory is wher the maven software is extracted == /opt/maven 
and we can ls to see the content of the MHD


IQ:
now we ls to see the content /composition of our maven home dir 

 [ec2-user@maven maven]$ ls
mavenHomeDir = M2_HOME = /opt/maven :
  bin --- binary files and the most impoetant file is mvn        *** 23,maven 1b, (the paths to where the dir are found in )
            
  conf  --configuration files and the most imp fie is settings.xml 
          
  lib -- jar files and libraries 
  boot  


WHAT CAN MAKE MVN COMMAND NOT TO RUN
1:38:39 maven also have to be installed properly for mvn command to run
ie downloaded and extracted properly
you have to determine where your maven home directory is defined with the export command
eg we defined ours in the file ; ~/.bash_profile , ****meeee** **when we copied and pasted the environmental variables
PLEASE COPY AND PASTE IT, ABOVE OR BELOW IN THE FILE, Not inbetween lines of information.
   **** we could also use a different location for eg if we use the .bashrc file.  



IQ: pom.xml        --- BuildScript for maven..... it is written in xml language
in pom.xml it has defined the project properties, dependencies (Junit testing has to be performed
5) cd msa/   .. the the appl we cloned from git hub and renamed

6) ls and we see pom.xml & src cd msa/
head pom.xml : this project file will include stuffs like project dependencies and Artifacts (it will be creating some artifacts)
for this project to be executed a few things are needed,
scm is in github , everything has been defined

7)ls src/ & we can see main & test case file 



DIFF BTW ;mvn package  7 mvn install
 ***** mvn install is creating/generating the package in the the target dir of our project & also uploading the artifacts into the maven local/default repo OR custom repo, depending on the configuration in the settings.xml file.
WHILE 
mvn package will only create/generating the package in the the target dir of our project



IQ

******* dependencies are just what the project depends on eg the project needs to perform unit testing so all what is needed for the unit testing will be defined in the 
dependency 


IQ: where are these dependencies found/located??? :
dependencies and/or are located in maven repositories

IQ:  we can have diff repository
                                                                                                                                                       for the project
<repositories>             **** dependencies and pluggins are found in any of these repo, maven will search for the project dependencies in any of these repo & use the repo
   mavenLocalRepo         (maven server)    ****** .m2/repository = default                             
   mavenRemoteRepo         (nexus server)
   mavenProxyRepo           (nexus server apache maven )
   mavenCentralRepo         the internet    ****** https://mvnrepository.com/repos/central
</repositories>


IQ:
when maven is trying to create packages it will use these pluggin


IQ : Explain the maven lifecycle  ??
Maven has 3 lifecycles: 
  Clean, 
  site/swagger and 
  default
  
IQ: How do you secure the maven local repo 
 sudo vi /opt/maven/conf/settings.xml    **** we vi and create a custom maven repo
***we can aslo : sudo echo "<localRepository>/home/ec2-user/.mlr</localRepository>">> /opt/maven/conf/setting
so we want to echo this information, we are redirecting to this file .. /opt
 if you run it the first time it will work but if you try to change it again it will be a problem 
so vi/ng into the file is the best


2:38:38 
                                                      QUSETION

is it possible to create the maven repo without vi/ing into the file,   ???
    without vi into the /opt/maven/conf/setting.xml   ??

                                                                       (THIS IS JUST ME on why we cd into msa)
                                                                     1:43:33 
                 cd java-projects  ,  now i run tree msa, n we see we hv 12dir &3files, this is the project we are working on,we see d code,include d pom.xml d project file
                                        ( msa is maven stanalone appl)         cd msa/  & when we ls we see (src and pom.xml), now no package hv been created
                                            to create a package we run mvn package, packages created build successful and a new dir target has been created

                                                 2:20:14   ( now this is the file we are modifying;  opt/maven/conf/setting.xml ) , seacrhing for maven local repo        

ANS:
ITS possible to create the maven repo without vi/ing into the file but again you need to vi

but how could we create the maven repo without vi/ing??
                                                                                                          
 now this is the file we are modifying;  opt/maven/conf/setting.xml                                        
we could do something like this, like we can also

we can aslo : sudo echo "<localRepository>/home/ec2-user/.mlr</localRepository>">> /opt/maven/conf/setting
so we want to echo this information, we are redirecting to this file .. /opt
so i want to append this line into this file 
                    **********  you hv to do sudo before you can echo bc not every user can write in this file , the file is owned by the root user
 if you run it the first time it will work but if you try to change it again it will be a problem 
so vi/ng into the file is the best



     HOW DO WE KNOW THE DEPENDENCIES TO DOWNLOAD 

our project ahs a project file called pom.xml and when thers a project, thers a meeting where DEVOPS and developers will agree/decide that for this project there are the 
dependencies  we are going to need, so it makes it a smooth process in terms of how we are going to define our dependencies in pom.xml

eg
if ther are 100 dependencies, they can decide thay are goin to use 10 and define the 10 in pom.xml, therfore the project will be deploying with just the 10 that have been 
choosen to ensure the right dependencies are deployed to production


***** maven 1b , 1:40:00

mvn command will not run if maven is not installed correctly and ensuring our maven home is defined  accordingly 

mvn is a binary file that we use to run packages and it can be found in bin 


                              TO SEE FILES IN BIN

files in bin = ls /opt/maven/bin/



MAVEN2
maven has Quality Gates, checking that test cases passes before  packages created.  :
  IQ:1. Assuming that 699 Testcases passed and 1 fails, 
        what can be done for  maven to still do a build? 
          ****** by default maven wont do a build, it will inform us that somthing is wrong 
          Also we can decide that since 699 testcases passed and i failed we should proceed with the deployment

24:15   but what can be done for maven to still do a build if a (1)test fails
           mvn package -DskipTests OR mvn package -Dmaven.test.skip=true
           This will skip the testing processing

    2. Also Some projects are taking long to build how can we resolve the issue:?
       we skip the test goal   (this may comprise quality)
           by running the test the first time we got to know that 699 passed and i failed, so it is possible for me to skip the test cases
          mvn package -DskipTests
           mvn package -Dmaven.test.skip=true  


3. What problems have you faced in your project recently? 
=========================================================
  Maven taking longer than expected time to build artifacts.  (this is a serious problem)
 now Maven uses plugins and dependencies to validate,
  compile, RunUnitTests and creates artifacts. 
    so if its taking much time to run the testing, we can skip the testing process

alos These plugins and dependencies are located in either:
    1. MavenLocalRepo  or
    2. maven-remote-repo or
    3. maven-proxy-repo or 
    3. Maven-central repo  


to expedite the process
**** so we can ensure that maven has direct access to maven local repo to be able to get dependencies and pluggins

28:30
pulling plugins and dependencies from mavenLocalRepo give    
  the best/fastest Results regarding time. 
  Maven-local-repo was accidentally deleted by a Jr. Engineer  

if a project is taking longer than expected to execute it could mean that maven is closing from the internet and that takes longer time naturally


IQ:
for maven to know which package to create its a function of our project
when we vi pom.xml we can see the archive file/packing indication? jar OR war OR ear




 a) ******** IQ:
HOW ARE JAVA BASED STANALONE applications deployed??
ANS; 
java -jar app.jar
eg; java -jar target/maven-stanalone-application-0.0.1-SNAPSHOT.jar    ***** app.jar, this is just a placeholder it can be any name you choose)

      **** WE ARE going to look at tomcat & JBOSS when we are talkingabout web applications 
b)IQ:
HOW ARE JAVA BASED web applications deployed??

ANS:
Are deployed in Tomcat/JBOSS servers
if you want to deploy a maven web application, we need a maven software installed like tomcat/OR JBOSS


c) IQ:
How are java based enterprise applications deployed??
enterprise application are deployed in JBOSS servers




IQ: 
Am managing federated web and enterprise micro- service applications for fintech clients 
An enterpriseapplication with over 21 modules


how can a specific module be built in maven-enterprise application
for example, developers have done a change in module one 

 by passing the PL flag               
mvn package -P1  for profile name 
eg
mvn package - P1 maven enterprise -web  ***** ie we want build only the maven enterprise-web package
OR
mvn package - P maven Enterprise -ear  ie we want build only the maven enterprise-EAR package






1:16 
FOR ARTIFACT  to be created maven has to be installed and for us to be able to pull clone the codes from github, in our build server we hv to yum install git 



1:32:17 
the child pom.xml is referring to the parent which means thers can of an intersection, so when you run mvn build all those pom.xml will be ultilized




  1:00 
how can we trouble -shoot a fail build in MAVEN ??
Check the logs to understand the errors
mvn - x package (BUILD in debugging mode) This will build in debugging mode 


1:24 there are some issues i can TS as a devops engineer AND there are some issue i will escalate to the developers that this build is not responding pls correct them 
accordingly or pls modify the project file ie pom.xml


1:24:54

if you are doing a build and you are not doing it in the project file the build will fail or in a diff dir it wont work 
you must be in the project directory 




      TOMCAT
   

    Tomcat listens on port 8080

what is the function of tomcat 


engr Amstrong said we know if tomcat is installed by running start tomcat



webserver expects traffic to come on http or 443,
when the users are trying to access the appserver they are making some request on the port number either 80 or 443 


IQ: What is the d/f b/w JBoss/WildFly and Tomcat? 
    
1)vendors: Tomcat==Apache  
             JBoss=Redhat  
    
 2) Applications:          
        JBoss; Web applications .WAR 
               enterprise applications .ear 
        Tomcat; web applications ONLY 


1:11:00
****** the difference between
[ec2-user@tomcat tomcat9]$ sh /opt/tomcat9/bin/startup.sh
this is the absolute path starting the root directory

          WHILE
[ec2-user@tomcat tomcat9]$ sh startup.sh (says no such file or dir)
this is the relative path starting the pwd

 
IQ; if you want to access this server its going to be on port 80:80, so we check from our CLI if tomcat is running by
   curl -v public ip80:80 OR curl -v localhost:8080


IQ: we can change the DEFAULT PORT NUMBER OF TOMCAt in server.xml/configuration file  ***** whenever we change anything in the config file we have to restart tomcat
To enable external tomcat mgt access vi or vim  /opt/tomcat9/webapps/manager/META-INF/context.xml
next we create tomcat user with access roles: vi or vim  /opt/tomcat9/conf/tomcat-user.xml  


   WAYS TO DEPLOY IN TOMCAT 
1) already saved file/artifact in my computer
he already has war file on his computer,so on the browser he clicked on deploy then in mobaxterm(CLI)
ls   /opt/tomcat9//webapps                                                                                  
we see the file copied into the webapp dir 


     option2)       DePLOYING FROM SERVER TO SERVER (Maven to tomcat)
 
we want to copy the file from our build server maven to tomcatserver
secure copy
A)if my server is not password authentication enabled
we run the scp command in maven                                  
scp -i c32.pem  target/*war ec2-user@tomcat public ip:/opt/tomcat9/webapps/
B)if password authentication is enabled
 we run this:   scp target/*war ec2-user@34.219.51.216:/opt/tomcat9/webapps/  


 WE ASSIGN PASSWORD TO MAVEN & TOMCAT SERVER  ( bY COnfiguring password authentication)
 sudo vi /etc/ssh/sshd_config


 HOW TO IMPROVE TOMCAT SERVER PERFORMNACE 

1) multiple request on a single tomcat server will affect performance
2)  Multiple deployments will reduce tomcat server performance.
  therefore its recommended  tohave multiple tomcat server 
3) The resource level or computing capacity OF your tomcat server   
     8GB RAM,   480GB Hard drive HDD  is better than 64GB RAM,  4000GB Hard drive SSD   

  2:39:10
4) HDD hard drive  is/are of less performnace than SSD

5) HEAPSIZE 
  We can increase the heapsize of the server 
Normally, tomcat by default allocates 64mb but we can increase to 128mb/256mb
  heapsize = 64mb -- 128mb/256mb    


IQ: CAN WE  RUN TOMCAT AND MAVEN IN ONE SERVER

YEs you can but its  not recommended because it can lead to one single point of failure ie if maven server is down, tomcat also goes down , if tomcat has a problem, 
maven is also down 



CONTENT OF BIN DIR
conf: 

eg of files in conf:
     server.xml          
      tomcat-users.xml, users.xml for those that work in the bank
               contains configuration information about tomcat server, any changes can be done here


    lib :
        contain all the jar files

    logs :   contains log files
      catalina.out
      host-manager.log


IQ:  What are the log files available in the tomcat log dir?
      catalina.out                     ****** check here if tomcat is not running
      host-manager.log  


Tomcat Home directory - THD = /opt/tomcat9
THD: The Tomcat Home Directory is 
     where the tomcat software is extracted 
      we used wget to download tomcat  
      and unzip  to extract




IQ:  What are the log files available in the tomcat log dir?
      catalina.out                     ****** check here if tomcat is not running
      host-manager.log      



port number or server addresses:

    80  -- http     , Hyper text  transfer protocol
    443 -- https
    8080 -- Jenkins / Tomcat  / JBoss
    0-1024 -- Reserve ports
    1025-65535  
    465 --- SMTP
    587  --- SMTP
    22   --- ssh
    23   -- ftp
a server has 65536 ports/addresses    


2:15.35
IQ: WHAT IS UNPACKING
/opt/tomcat9/webapps/
when u deploy it copies the war file into the webapps dir and unpack it
unpack means eg when we copied the file we copied maven-web-app but when it goes to 'webapp dir',its extracting, & we see /app & app.war (app.war is red)why?
so when u do deployment u are copying this war file into the webapps dir and when its gets ther its automatically extracted which means its unpacked. 

*** 2:19:20;  WORKING DOCS 
  THE binary files in the bin dir like catalina.sh helps us to start and stop tomcat
as a matter of fact thats where (bin dir abi cataina file) the command shud be run from but bc we created a symbolic path we can start& stop tomcat frm 
anywhere in our env eg we can start it from anywhere by just by saying start/stop
the name can be anything decided by the coy 
and thats why you always hv running notes to ease your job 




SONAR
  QUESTION

IQ: Tell us a project/change you introduce in your environment 
    which you are proud of.
    Answer = I introduce sonarqube for code quality and am proud of it because it has enabled us to develop quality software and it has reduced the number of code breaks ,
bugs and roll backs



















